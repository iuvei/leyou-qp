{"version":3,"sources":["CreateNN.js"],"names":["cc","Class","extends","Component","properties","mode","Node","ghost","ghostLine","Sprite","bankScore","bankScoreLine","people","peopleLine","dropdown","dropdownContent","dropdownPrefab","Prefab","lblTicketRemark1","Label","lblTicketRemark2","createFrom","onLoad","th","active","showGhost","showBankScore","banker_mode","theme","score_type","is_laizi","max_count_type","rule_type","is_cardfour","is_cardfourtiny","is_cardfive","is_straight","is_flush","is_calabash","is_cardbomb","is_sequence","is_cardtiny","banker_score_type","bet_type","ready_time","grab_time","bet_time","show_time","ticket_type","auto","initEventHandlers","log","node","on","show","type","showPeoples","showMode","max","getChildByName","getComponent","allowSwitchOff","children","forEach","toggle","idx","name","check","uncheck","onBankerModeGroupClicked","targer","audioManager","playSFX","onBankerModeClicked","isChecked","onThemeClicked","value","Number","onDifengClicked","onGhostClicked","onPeopleGrouplicked","onPeopleClicked","num","string","onRuleClicked","onPaixingClicked","onBankScoreClicked","onBetTypeClicked","onShijianClicked","onFangkaClicked","onAutoClicked","onShowDropDown","val","removeAllChildren","target","minMax","suffix","min","i","item","instantiate","addChild","onDropDownClicked","onDropDownCloseClicked","onCloseClicked","randomString","e","t","a","length","n","charAt","Math","floor","random","onCreateClicked","webSocketManager","connectGameNNServer","ip","port","namespace","wc","roomInfo","Object","assign","data_key","Date","parse","params","operation","account_id","myself","session","sign","data","room","ws","send","JSON","stringify"],"mappings":"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","file":"CreateNN.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        mode: cc.Node,\r\n        ghost: cc.Node,\r\n        ghostLine: cc.Sprite,\r\n        bankScore: cc.Node,\r\n        bankScoreLine: cc.Sprite,\r\n        people: cc.Node,\r\n        peopleLine: cc.Sprite,\r\n        dropdown: cc.Node,\r\n        dropdownContent: cc.Node,\r\n        dropdownPrefab: cc.Prefab,\r\n        lblTicketRemark1: cc.Label,\r\n        lblTicketRemark2: cc.Label,\r\n\r\n        createFrom: null\r\n    },\r\n\r\n    onLoad: function() {\r\n        if (th == null) {\r\n            return;\r\n        }\r\n\r\n        this.dropdown.active = false;\r\n        this.showGhost(false);\r\n        this.showBankScore(false);\r\n        this.createFrom = {\r\n            banker_mode: 1, // 3=转庄牛牛, 2 = 明牌抢庄 5 = 固定庄家 1 = 自由抢庄 4 = 通比牛牛\r\n            theme: 1,\r\n            score_type: 1, //底分：1=1分 2=2分如此类推\r\n            is_laizi: 0, //赖子：0，2，4，6\r\n            max_count_type: 1, //人数：1=6人 2=9人 3=10人 4=12人 5=13人\r\n            rule_type: 1, //规则：1=牛牛*3，牛九*2，牛八*2   2=牛牛*4，牛九*3，牛八*2，牛七*2\r\n\r\n            is_cardfour: 1, //四花牛4倍\r\n            is_cardfourtiny: 1, //四小牛4倍\r\n            is_cardfive: 1, //五花牛5倍\r\n            is_straight: 1, //顺子牛6倍\r\n            is_flush: 1, //同花牛6倍\r\n            is_calabash: 1, //葫芦牛7倍\r\n            is_cardbomb: 1, //炸弹牛八倍\r\n            is_sequence: 1, //同花顺牛九倍\r\n            is_cardtiny: 1, //五小牛十倍\r\n\r\n            banker_score_type: 1, //上庄分数：1=0分，2=300分，3=500分，4=1000分，\r\n            bet_type: 1, //倍数 1=1，2，4，5  ， 2=1，3，5，8 ， 3=2，4，5，10 ， 4=2，6，10，15\r\n\r\n            ready_time: 3, //准备时间\r\n            grab_time: 5, //抢庄时间\r\n            bet_time: 5, //下注时间\r\n            show_time: 3, //摊牌时间\r\n            ticket_type: 1, //房卡：1=10局,2=20局\r\n            auto: 0\r\n        };\r\n        this.initEventHandlers();\r\n    },\r\n    initEventHandlers() {\r\n        cc.log(\"CreateNN initEventHandlers()\");\r\n        this.node.on(\"game_connect_success\", () => {\r\n            cc.log(\"<<<===[game_connect_success] CreateNN\");\r\n        });\r\n    },\r\n    show(type) {\r\n        cc.log(\"CreateNN:\", type);\r\n        cc.log(\"createFrom:\", this.createFrom);\r\n        switch (type) {\r\n            case \"jdnn\":\r\n                this.createFrom.is_laizi = 0;\r\n                this.createFrom.max_count_type = 1;\r\n                this.showPeoples(true, 6, 3);\r\n                this.showGhost(false);\r\n                //this.showMode(5);\r\n                break;\r\n            case \"12rnn\":\r\n                this.createFrom.is_laizi = 0;\r\n                this.createFrom.max_count_type = 4;\r\n                this.showPeoples(false, 12, 5);\r\n                this.showGhost(false);\r\n                //this.showMode(5);\r\n                break;\r\n            case \"13rnn\":\r\n                this.createFrom.is_laizi = 0;\r\n                this.createFrom.max_count_type = 5;\r\n                this.showPeoples(false, 13, 5);\r\n                this.showGhost(false);\r\n                //this.showMode(5);\r\n                break;\r\n            case \"lznn\":\r\n                this.createFrom.is_laizi = 2;\r\n                this.createFrom.max_count_type = 1;\r\n                this.showPeoples(true, 6, 5);\r\n                this.showGhost(true);\r\n                this.showMode(2);\r\n                break;\r\n        }\r\n        this.node.active = true;\r\n    },\r\n    showGhost(show) {\r\n        this.ghost.active = show;\r\n        this.ghostLine.node.active = show;\r\n    },\r\n    showBankScore(show) {\r\n        this.bankScore.active = show;\r\n        this.bankScoreLine.node.active = show;\r\n    },\r\n    showPeoples(show, people, max) {\r\n        this.people.active = show;\r\n        this.peopleLine.node.active = show;\r\n\r\n        this.people\r\n            .getChildByName(\"toggle\")\r\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = true;\r\n\r\n        this.people.getChildByName(\"toggle\").children.forEach((toggle, idx) => {\r\n            toggle.active = idx < max;\r\n            if (toggle.name === `btn_${people}ren`) {\r\n                toggle.getComponent(\"cc.Toggle\").check();\r\n            } else {\r\n                toggle.getComponent(\"cc.Toggle\").uncheck();\r\n            }\r\n        });\r\n        this.people\r\n            .getChildByName(\"toggle\")\r\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = false;\r\n    },\r\n    showMode(max) {\r\n        this.mode.getComponent(\"cc.ToggleContainer\").allowSwitchOff = true;\r\n        this.mode.children.forEach((toggle, idx) => {\r\n            toggle.active = idx < max;\r\n            if (idx === 0) {\r\n                toggle.getComponent(\"cc.Toggle\").check();\r\n            } else {\r\n                toggle.getComponent(\"cc.Toggle\").uncheck();\r\n            }\r\n        });\r\n        this.mode.getComponent(\"cc.ToggleContainer\").allowSwitchOff = false;\r\n    },\r\n    onBankerModeGroupClicked: function(targer, type) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n    },\r\n    onBankerModeClicked: function(targer, type) {\r\n        if (targer.isChecked) {\r\n            switch (type) {\r\n                case \"mpqz\":\r\n                    this.createFrom.banker_mode = 2;\r\n                    this.showBankScore(false);\r\n                    break;\r\n                case \"zjqz\":\r\n                    this.createFrom.banker_mode = 1;\r\n                    this.showBankScore(false);\r\n                    break;\r\n                case \"zznn\":\r\n                    this.createFrom.banker_mode = 3;\r\n                    this.showBankScore(false);\r\n                    break;\r\n                case \"tbnn\":\r\n                    this.createFrom.banker_mode = 4;\r\n                    this.showBankScore(false);\r\n                    break;\r\n                case \"gdzj\":\r\n                    this.createFrom.banker_mode = 5;\r\n                    this.showBankScore(true);\r\n                    break;\r\n            }\r\n        }\r\n    },\r\n    onThemeClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.theme = Number(value);\r\n    },\r\n    onDifengClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.score_type = Number(value);\r\n    },\r\n    onGhostClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.is_laizi = Number(value);\r\n    },\r\n    onPeopleGrouplicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n    },\r\n    onPeopleClicked: function(targer, value) {\r\n        if (targer.isChecked) {\r\n            let num = Number(value);\r\n            this.createFrom.max_count_type = num;\r\n            if (num == 1) {\r\n                this.lblTicketRemark1.string = \"10局X1房卡\";\r\n                this.lblTicketRemark2.string = \"20局X2房卡\";\r\n            } else if (num == 2 || num == 3) {\r\n                this.lblTicketRemark1.string = \"10局X2房卡\";\r\n                this.lblTicketRemark2.string = \"20局X4房卡\";\r\n            } else if (num == 4 || num == 5) {\r\n                this.lblTicketRemark1.string = \"10局X3房卡\";\r\n                this.lblTicketRemark2.string = \"20局X6房卡\";\r\n            }\r\n        }\r\n    },\r\n    onRuleClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.rule_type = Number(value);\r\n    },\r\n    onPaixingClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom[value] = targer.isChecked ? 1 : 0;\r\n    },\r\n    onBankScoreClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.banker_score_type = Number(value);\r\n    },\r\n    onBetTypeClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.bet_type = Number(value);\r\n    },\r\n    onShijianClicked: function(targer) {\r\n        cc.log(\"onCreateClicked:\", this.createFrom);\r\n    },\r\n    onFangkaClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.createFrom.ticket_type = Number(value);\r\n    },\r\n    onAutoClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        cc.log(\"onAutoClicked:\", targer.isChecked);\r\n        this.createFrom.auto = targer.isChecked ? 1 : 0;\r\n    },\r\n    onShowDropDown: function(targer, val) {\r\n        this.dropdownContent.removeAllChildren();\r\n        this.dropdownContent.target = targer.target;\r\n        this.dropdownContent.type = val;\r\n        let minMax = [0, 0];\r\n        let suffix = \"秒\";\r\n        switch (val) {\r\n            case \"score_type\":\r\n                minMax = [6, 100];\r\n                suffix = \"分\";\r\n                break;\r\n            case \"ready_time\":\r\n                minMax = [3, 6];\r\n                break;\r\n            case \"grab_time\":\r\n                minMax = [5, 10];\r\n                break;\r\n            case \"bet_time\":\r\n                minMax = [5, 10];\r\n                break;\r\n            case \"show_time\":\r\n                minMax = [3, 6];\r\n                break;\r\n        }\r\n        this.dropdownContent.suffix = suffix;\r\n        let [min, max] = minMax;\r\n        for (let i = min; i <= max; i++) {\r\n            let item = cc.instantiate(this.dropdownPrefab);\r\n            item.val = i;\r\n            item\r\n                .getChildByName(\"lbl_remark\")\r\n                .getComponent(\"cc.Label\").string = `${i}${suffix}`;\r\n            if (i === min) {\r\n                item.getComponent(\"cc.Toggle\").check();\r\n            } else {\r\n                item.getComponent(\"cc.Toggle\").uncheck();\r\n            }\r\n            this.dropdownContent.addChild(item);\r\n        }\r\n        this.dropdown.active = true;\r\n    },\r\n    onDropDownClicked: function(targer, val) {\r\n        this.dropdownContent.target\r\n            .getChildByName(\"lbl_value\")\r\n            .getComponent(\"cc.Label\").string = `${targer.target.val}${\r\n            this.dropdownContent.suffix\r\n        }`;\r\n        let type = this.dropdownContent.type;\r\n        switch (type) {\r\n            case \"score_type\":\r\n                this.createFrom.score_type = targer.target.val;\r\n                break;\r\n            case \"ready_time\":\r\n                this.createFrom.ready_time = targer.target.val;\r\n                break;\r\n            case \"grab_time\":\r\n                this.createFrom.grab_time = targer.target.val;\r\n                break;\r\n            case \"bet_time\":\r\n                this.createFrom.bet_time = targer.target.val;\r\n                break;\r\n            case \"show_time\":\r\n                this.createFrom.show_time = targer.target.val;\r\n                break;\r\n        }\r\n        this.dropdown.active = false;\r\n    },\r\n    onDropDownCloseClicked: function(targer, val) {\r\n        this.dropdown.active = false;\r\n    },\r\n    onCloseClicked: function(targer) {\r\n        this.node.active = false;\r\n    },\r\n    randomString(e) {\r\n        e = e || 32;\r\n        let t = \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678\",\r\n            a = t.length,\r\n            n = \"\";\r\n        for (let i = 0; i < e; i++) {\r\n            n += t.charAt(Math.floor(Math.random() * a));\r\n        }\r\n        return n;\r\n    },\r\n    onCreateClicked: function(targer) {\r\n        cc.log(\"onCreateClicked:\", this.createFrom);\r\n        //断开大厅连接连接游戏websocket\r\n        th.webSocketManager.connectGameNNServer(\r\n            {\r\n                ip: \"47.96.177.207\",\r\n                port: 10000,\r\n                namespace: \"gamebdn\"\r\n            },\r\n            () => {\r\n                th.wc.show(\"正在创建房间...\");\r\n                let roomInfo = Object.assign({}, this.createFrom);\r\n                roomInfo.data_key =\r\n                    Date.parse(new Date()) + this.randomString(5);\r\n                const params = {\r\n                    operation: \"CreateRoom\", //操作标志\r\n                    account_id: th.myself.account_id, //用户id};\r\n                    session: th.sign,\r\n                    data: roomInfo\r\n                };\r\n                Object.assign(th.room, roomInfo);\r\n                cc.log(\"===>>>[CreateRoom] CreateNN:\", params);\r\n                th.ws.send(JSON.stringify(params));\r\n            }\r\n        );\r\n    }\r\n});\r\n"]}