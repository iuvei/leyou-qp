{"version":3,"sources":["Hall.js"],"names":["cc","Class","extends","Component","properties","dock","Node","dating","yuleting","zhanji","gerenzhongxin","selectNN","selectZJH","voiceToggle","Toggle","fangzuobi","bangdingshouji","sendfangka","zhanjitongji","shimingrenzheng","lblId","Label","lblName","lblFangka","lblPhone","headImg","Sprite","createNN","createZJH","createNNComponent","createZJHComponent","selectGame","createGame","joinOrLook","onLoad","th","initEventHandlers","initUserInfo","node","getChildByName","getComponent","args","roomId","type","log","room","room_number","webSocketManager","connectGameNNServer","ip","port","namespace","params","operation","account_id","myself","session","sign","data","ws","send","JSON","stringify","err","onEnable","start","dataEventHandler","on","emit","wc","hide","active","topToBottomAnim","show","gametype","string","nickname","account_ticket","phone","headSpriteFrame","headimgurl","loader","load","url","texture","SpriteFrame","Rect","width","height","spriteFrame","setScale","bgm","sys","localStorage","getItem","audioManager","setBGMVolume","isChecked","dt","trager","director","loadScene","playSFX","x","y","allowSwitchOff","children","forEach","toggle","idx","name","check","uncheck","targer","bottomToTopAnim","isRun","position","v2","runAction","sequence","callFunc","moveTo","easing","easeSineIn"],"mappings":"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","file":"Hall.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        dock: cc.Node,\n        dating: cc.Node,\n        yuleting: cc.Node,\n        zhanji: cc.Node,\n        gerenzhongxin: cc.Node,\n        selectNN: cc.Node,\n        selectZJH: cc.Node,\n        voiceToggle: cc.Toggle,\n        fangzuobi: cc.Node,\n        bangdingshouji: cc.Node,\n        sendfangka: cc.Node,\n        zhanjitongji: cc.Node,\n        shimingrenzheng: cc.Node,\n\n        //用户信息\n        lblId: cc.Label,\n        lblName: cc.Label,\n        lblFangka: cc.Label,\n        lblPhone: cc.Label,\n        headImg: cc.Sprite,\n\n        //\n        createNN: cc.Node,\n        createZJH: cc.Node,\n        createNNComponent: cc.Class,\n        createZJHComponent: cc.Class,\n\n        //当前选择游戏的node\n        selectGame: cc.Node,\n        //当前创建游戏的node\n        createGame: cc.Node,\n\n        //观战或者加拉游戏\n        joinOrLook: cc.Node\n    },\n\n    onLoad: function() {\n        //cc.log(\"Hall onload.\");\n        if (th == null) {\n            return;\n        }\n        this.initEventHandlers();\n        this.initUserInfo();\n        this.createNNComponent = this.node\n            .getChildByName(\"CreateNN\")\n            .getComponent(\"CreateNN\");\n        this.createZJHComponent = this.node\n            .getChildByName(\"CreateZJH\")\n            .getComponent(\"CreateZJH\");\n\n        if (th.args.roomId && th.args.type) {\n            cc.log(`直接进入房间：${th.args.type}==${th.args.roomId}`);\n            th.room.room_number = th.args.roomId;\n            if (th.args.type == \"nn\") {\n                th.webSocketManager.connectGameNNServer(\n                    {\n                        ip: \"47.96.177.207\",\n                        port: 10000,\n                        namespace: \"gamebdn\"\n                    },\n                    () => {\n                        let params = {\n                            operation: \"PrepareJoinRoom\",\n                            account_id: th.myself.account_id, //用户id};\n                            session: th.sign,\n                            data: {\n                                room_number: th.args.roomId\n                            }\n                        };\n                        cc.log(\"===>>>[PrepareJoinRoom] Hall:\", params);\n                        th.ws.send(JSON.stringify(params));\n                    }\n                );\n            } else {\n                cc.err(\"游戏类型错误：\" + th.args.type);\n            }\n        }\n    },\n    onEnable() {\n        cc.log(\"Hall onEnable\");\n        cc.log(\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\");\n    },\n    start() {\n        cc.log(\"Hall start\");\n        cc.log(\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\");\n    },\n    initEventHandlers() {\n        cc.log(\"Hall initEventHandlers()\");\n        th.webSocketManager.dataEventHandler = this.node;\n\n        this.node.on(\"game_connect_success\", () => {\n            //分发给子节点\n            if (this.createGame) {\n                this.createGame.emit(\"game_connect_success\");\n            }\n        });\n\n        this.node.on(\"CreateRoom\", () => {\n            cc.log(\"<<<===[CreateRoom] Hall\");\n            th.wc.hide();\n            this.createGame.active = false;\n            this.selectGame.active = false;\n            this.topToBottomAnim(this.selectGame);\n        });\n        this.node.on(\"PrepareJoinRoom\", () => {\n            cc.log(\"<<<===[PrepareJoinRoom],Hall\");\n            this.joinOrLook.getComponent(\"JoinOrLook\").show(th.gametype);\n        });\n    },\n    initUserInfo() {\n        this.lblId.string = th.myself.account_id;\n        this.lblName.string = th.myself.nickname;\n        this.lblFangka.string = \"x\" + th.myself.account_ticket;\n        this.lblPhone.string = th.myself.phone;\n\n        if (!th.myself.headSpriteFrame && th.myself.headimgurl) {\n            cc.loader.load(\n                { url: th.myself.headimgurl, type: \"jpg\" },\n                (err, texture) => {\n                    if (!err) {\n                        cc.log(\n                            th.myself.nickname +\n                                \" 下载头像成功：\" +\n                                th.myself.headimgurl\n                        );\n                        let headSpriteFrame = new cc.SpriteFrame(\n                            texture,\n                            cc.Rect(0, 0, texture.width, texture.height)\n                        );\n                        th.myself.headSpriteFrame = headSpriteFrame;\n                        this.headImg.spriteFrame = headSpriteFrame;\n                        this.headImg.node.setScale(2 - texture.width / 105);\n                    }\n                }\n            );\n        }\n    },\n    onEnable() {\n        //cc.log(\"Hall onEnable.\");\n        const bgm = cc.sys.localStorage.getItem(\"bgmVolume\");\n        if (bgm != \"0\") {\n            th.audioManager.setBGMVolume(bgm);\n            this.voiceToggle.isChecked = false;\n        } else {\n            this.voiceToggle.isChecked = true;\n        }\n    },\n    start: function() {\n        //cc.log(\"Hall start.\");\n    },\n\n    update: function(dt) {},\n    //房卡\n    onFangkaChecked: function(trager) {\n        /*\n        th.ws.send(\n            JSON.stringify({\n                operation: \"getUserInfo\",\n                session: \"YWQ4MTBlOGM1NzcxZjNmNTJiMTY3ZTMzZmRiZmY4YjI=\",\n                data: {\n                    token: \"\"\n                }\n            })\n        );\n        return;\n        */\n        th.wc.show(\"正在加载。。。\");\n        cc.director.loadScene(\"GameNN\", () => {\n            th.wc.hide();\n        });\n    },\n    //防作弊\n    onFzbChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.x = 0;\n        this.fangzuobi.y = 0;\n        this.fangzuobi.active = true;\n    },\n    //防作弊关闭\n    onFzbCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.active = false;\n    },\n    //防作弊提交\n    onFzbYesChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.active = false;\n        //TODO\n    },\n    //绑定手机\n    onBdsjChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.x = 0;\n        this.bangdingshouji.y = 0;\n        this.bangdingshouji.active = true;\n    },\n    //绑定手机关闭\n    onBdsjCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.active = false;\n    },\n    //绑定手机提交\n    onBdsjYesChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.active = false;\n        //TODO\n    },\n    //历史战绩\n    onZhanjiChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.dating.active = false;\n        this.yuleting.active = false;\n        this.zhanji.active = true;\n        this.gerenzhongxin.active = false;\n\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = true;\n\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .children.forEach((toggle, idx) => {\n                if (toggle.name === \"btn_zhanji\") {\n                    toggle.getComponent(\"cc.Toggle\").check();\n                } else {\n                    toggle.getComponent(\"cc.Toggle\").uncheck();\n                }\n            });\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = false;\n    },\n    //战绩统计\n    onZhanjitongjiChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.zhanjitongji.x = 0;\n        this.zhanjitongji.y = 0;\n        this.zhanjitongji.active = true;\n    },\n    //战绩统计关闭\n    onZhanjitongjiCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.zhanjitongji.active = false;\n    },\n    //发送房卡\n    onSendFangkaChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.sendfangka.x = 0;\n        this.sendfangka.y = 0;\n        this.sendfangka.active = true;\n    },\n    //发送房卡关闭\n    onSendFangkaCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.sendfangka.active = false;\n    },\n    //实名认证房卡\n    onShimingrenzhengChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.shimingrenzheng.x = 0;\n        this.shimingrenzheng.y = 0;\n        this.shimingrenzheng.active = true;\n    },\n    //实名认证关闭\n    onShimingrenzhengCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.shimingrenzheng.active = false;\n    },\n    //开关声音\n    onVoiceChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        cc.log(\"开关声音\", trager.isChecked);\n        if (trager.isChecked) {\n            th.audioManager.setBGMVolume(0);\n        } else {\n            th.audioManager.setBGMVolume(0.5);\n        }\n    },\n    //复制ID\n    onCopyIdChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        cc.log(\"复制ID\");\n        //TODO\n    },\n\n    //大厅dock按钮点击事件\n    onDockChecked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        switch (type) {\n            case \"dating\":\n                this.dating.active = true;\n                this.yuleting.active = false;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"yuleting\":\n                this.dating.active = false;\n                this.yuleting.active = true;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"zhanji\":\n                this.dating.active = false;\n                this.yuleting.active = false;\n                this.zhanji.active = true;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"gerenzhongxin\":\n                this.dating.active = false;\n                this.yuleting.active = false;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = true;\n                break;\n        }\n    },\n    //大厅游戏按钮点击\n    onHallGameChecked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        switch (type) {\n            case \"nn\":\n                this.selectGame = this.selectNN;\n                this.bottomToTopAnim(this.selectNN);\n                break;\n            case \"zjh\":\n                this.selectGame = this.selectZJH;\n                this.bottomToTopAnim(this.selectZJH);\n                break;\n        }\n    },\n    //选择游戏界面关闭按钮点击\n    onSelectGameCloseClicked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.selectGame = null;\n        switch (type) {\n            case \"nn\":\n                this.topToBottomAnim(this.selectNN);\n                break;\n            case \"zjh\":\n                this.topToBottomAnim(this.selectZJH);\n                break;\n        }\n    },\n    bottomToTopAnim: function(node) {\n        if (node.isRun) return;\n        node.position = cc.v2(0, -th.height);\n        node.runAction(\n            cc.sequence(\n                cc.callFunc(() => {\n                    node.isRun = true;\n                }),\n                cc.moveTo(0.2, cc.v2(0, 0)).easing(cc.easeSineIn()),\n                cc.callFunc(() => {\n                    node.isRun = false;\n                })\n            )\n        );\n    },\n    topToBottomAnim: function(node) {\n        if (node.isRun) return;\n        node.runAction(\n            cc.sequence(\n                cc.callFunc(() => {\n                    node.isRun = true;\n                }),\n                cc.moveTo(0.2, cc.v2(0, -th.height)).easing(cc.easeSineIn()),\n                cc.callFunc(() => {\n                    node.isRun = false;\n                })\n            )\n        );\n    },\n    //选择牛牛子分类\n    onSelectNNChecked: function(targer, type) {\n        //cc.log(\"牛牛选择类别:\", type);\n        th.audioManager.playSFX(\"click.mp3\");\n        this.createNN.x = 0;\n        this.createNN.y = 0;\n        this.createNNComponent.show(type);\n        this.createGame = this.createNN;\n    },\n    //选择炸金花子分类\n    onSelectZJHChecked: function(targer, type) {\n        //cc.log(\"炸金花选择类别:\", type);\n        th.audioManager.playSFX(\"click.mp3\");\n        this.createZJH.x = 0;\n        this.createZJH.y = 0;\n        this.createZJHComponent.show(type);\n        this.createGame = this.createZJH;\n    }\n});\n"]}