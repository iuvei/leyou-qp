{"version":3,"sources":["GameNN.js"],"names":["cc","Class","extends","Component","properties","seatPrefab","Prefab","nodeSeats","Node","componentSeats","nodePokers","nodeOptions","nodeCountdown","lblCountdown","Label","lblRoomInfo","btnBankerMtp1","Button","btnBankerMtp2","btnBankerMtp4","btnPlayerMtp1","btnPlayerMtp2","btnPlayerMtp3","btnPlayerMtp4","btnQiang","btnBuqiang","btnReady","btnShow","spriteClickLookPai","Sprite","_countdownEndTime","_isPlay","onLoad","th","log","room","banker_mode","myself","needLookCount","initEventHandlers","initView","onEnable","start","webSocketManager","dataEventHandler","node","on","player","initSingleSeat","account_id","refreshOptions","data","initRoomInfo","setCountdown","limit_time","showPokers","grab_array","forEach","getPlayerById","getMyselfPlayer","cards","index","getLocalIndex","serial_num","pokers","children","poker","pokerId","idx","runAction","sequence","scaleTo","callFunc","target","addChild","pokerManager","getPokerSpriteById","item","nodePoker","showNiuType","score_board","account_ids","Object","keys","account_score","nodeSeat","niuType","getNiuSprite","card_type","combo_point","x","y","active","initSeat","initMtpBtn","room_status","bet_type_arr","mtp1","mtp2","mtp3","mtp4","getChildByName","getComponent","string","acitve","multiples","isPlayer","isZYQZ","isShowBtnReady","account_status","isShowQiangBrank","isShowSelectMultiples","is_banker","isShowClickLookPai","game_num","total_num","base_score","seatsxy","getSeatXY","i","length","seat","instantiate","seatIndex","push","players","setInfo","nickname","headimgurl","sex","setOffline","online_status","setBanker","setScore","setReady","setMultiples","mtp","onBankerMultiplesClicked","targer","value","params","operation","session","sign","room_id","is_grab","Number","ws","send","JSON","stringify","onBuqiangClicked","onReadyClicked","onPlayerMultiplesClicked","onShowClicked","onBackClicked","wc","show","director","loadScene","hide","onChatClicked","onMoreClicked","setChat","setUserName","onThemeClicked","onLookClicked","onPokerClicked","traget","seatIndexs","myLocalIndex","getMyselfLocalIndex","pokerIds","isMyself","Array","fill","basePoker","removeAllChildren","readyPokersIds","pi","readyPokerId","scale","position","convertToNodeSpaceAR","v2","clickEventHandler","EventHandler","component","handler","customEventData","clickEvents","j","basePokers","delay","delayTime","spawn","moveTo","val","content","num","Date","now","_alertStartTime","scheduleOnce","update","dt","miao","Math","ceil","audioManager","playSFX"],"mappings":"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","file":"GameNN.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        seatPrefab: cc.Prefab,\n\n        nodeSeats: [cc.Node], //所有座位的NODE\n        componentSeats: [cc.Component], //所有座位的组件\n        nodePokers: [cc.Node], //所有座位的扑克\n\n        nodeOptions: cc.Node,\n        nodeCountdown: cc.Node,\n        lblCountdown: cc.Label,\n\n        lblRoomInfo: cc.Label,\n\n        btnBankerMtp1: cc.Button,\n        btnBankerMtp2: cc.Button,\n        btnBankerMtp4: cc.Button,\n\n        btnPlayerMtp1: cc.Button,\n        btnPlayerMtp2: cc.Button,\n        btnPlayerMtp3: cc.Button,\n        btnPlayerMtp4: cc.Button,\n\n        btnQiang: cc.Button,\n        btnBuqiang: cc.Button,\n        btnReady: cc.Button,\n        btnShow: cc.Button,\n\n        spriteClickLookPai: cc.Sprite, //点击看牌\n\n        _countdownEndTime: 0, //倒计时剩余时间\n        _isPlay: true //用来播放倒计时声音\n    },\n\n    onLoad: function() {\n        if (th == null) {\n            return;\n        }\n        cc.log(\"GameNN onLoad\");\n        //自由抢庄需要看牌两次\n        if (th.room.banker_mode == 1) {\n            th.myself.needLookCount = 2;\n        }\n        this.initEventHandlers();\n        this.initView();\n    },\n    onEnable() {\n        cc.log(\"GameNN onEnable\");\n    },\n    start() {\n        cc.log(\"GameNN start\");\n    },\n    initEventHandlers() {\n        cc.log(\"GameNN initEventHandlers()\");\n        th.webSocketManager.dataEventHandler = this.node;\n\n        this.node.on(\"CreateRoom\", () => {\n            cc.log(\"<<<===[JoinRoom] GmaeNN\");\n        });\n        this.node.on(\"GuestRoom\", () => {\n            cc.log(\"<<<===[GuestRoom] GmaeNN\");\n        });\n        this.node.on(\"AllGamerInfo\", () => {\n            cc.log(\"<<<===[AllGamerInfo] GmaeNN\");\n        });\n        this.node.on(\"AllGuestInfo\", () => {\n            cc.log(\"<<<===[AllGuestInfo] GmaeNN\");\n        });\n        this.node.on(\"UpdateGamerInfo\", player => {\n            cc.log(\"<<<===[UpdateGamerInfo] GmaeNN:\", player);\n            this.initSingleSeat(player);\n        });\n        this.node.on(\"UpdateGuestInfo\", () => {\n            cc.log(\"<<<===[UpdateGuestInfo] GmaeNN\");\n        });\n        this.node.on(\"UpdateAccountStatus\", player => {\n            cc.log(\"<<<===[UpdateAccountStatus] GmaeNN\", player);\n            this.initSingleSeat(player);\n            if (player.account_id == th.myself.account_id) {\n                this.refreshOptions();\n                this.initSingleSeat(player);\n            }\n        });\n        this.node.on(\"GameStart\", data => {\n            cc.log(\"<<<===[GameStart] GmaeNN\", data);\n            this.initRoomInfo();\n            this.setCountdown(data.limit_time, \"游戏开始了\");\n            this.refreshOptions();\n        });\n        this.node.on(\"MyCards\", player => {\n            cc.log(\"<<<===[MyCards] GmaeNN\", player);\n            this.showPokers();\n            this.refreshOptions();\n        });\n\n        //开始游戏,闲家选倍数\n        this.node.on(\"StartBet\", data => {\n            cc.log(\"<<<===[StartBet] GmaeNN:\", data);\n            this.refreshOptions();\n            this.setCountdown(data.limit_time, \"投注开始了\");\n            //抢庄account_ID数据\n            //\"grab_array\": [\"31\", \"18\"],\n            data.grab_array.forEach(account_id => {\n                const player = th.getPlayerById(account_id);\n                //const index = th.getLocalIndex(player.serial_num - 1);\n                //this.componentSeats[index].doBlink();\n                this.initSingleSeat(player);\n            });\n\n            //TODO\n            cc.log(\"抢庄效果\");\n        });\n\n        //闲家选倍数 通知\n        this.node.on(\"UpdateAccountMultiples\", player => {\n            cc.log(\"<<<===[UpdateAccountMultiples] GmaeNN:\", player);\n            this.initSingleSeat(player);\n        });\n\n        //显示牌\n        this.node.on(\"StartShow\", data => {\n            cc.log(\"<<<===[StartShow] GmaeNN:\", data);\n\n            this.refreshOptions();\n            //显示我自己的牌\n            let player = th.getMyselfPlayer();\n            let cards = player.cards;\n            const index = th.getLocalIndex(player.serial_num - 1);\n            let pokers = this.nodePokers[index].children;\n            cc.log(\"显示我自己的牌:\", player, cards);\n            pokers.forEach((poker, index) => {\n                poker.pokerId = cards[index];\n            });\n            pokers.forEach((poker, idx) => {\n                if (idx >= 3) return;\n                poker.runAction(\n                    cc.sequence(\n                        cc.scaleTo(0.3, 0, 1),\n                        cc.callFunc(target => {\n                            target.addChild(\n                                th.pokerManager.getPokerSpriteById(\n                                    target.pokerId\n                                )\n                            );\n                        }),\n                        cc.scaleTo(0.3, 1, 1),\n                        cc.callFunc(target => {\n                            target.pokerId = -1;\n                        })\n                    )\n                );\n            });\n\n            this.setCountdown(data.limit_time, \"摊牌开始了\");\n\n            data.data.forEach(item => {\n                let player = th.getPlayerById(item.account_id);\n                this.initSingleSeat(player);\n            });\n        });\n\n        //摊牌\n        this.node.on(\"UpdateAccountShow\", player => {\n            cc.log(\"<<<===[UpdateAccountShow] GmaeNN:\", player);\n            const index = th.getLocalIndex(player.serial_num - 1);\n            const nodePoker = this.nodePokers[index];\n            let pokers = nodePoker.children;\n            let cards = player.cards;\n            //如果不是自己\n            if (player.account_id != th.myself.account_id) {\n                pokers.forEach((poker, index) => {\n                    poker.addChild(\n                        th.pokerManager.getPokerSpriteById(cards[index])\n                    );\n                });\n            }\n            this.showNiuType(player);\n        });\n\n        //结果\n        this.node.on(\"Win\", data => {\n            cc.log(\"<<<===[Win] GmaeNN:\", data);\n            //赢的人\n            //let win = data.winner_array;\n            //输的人\n            //let lose = data.loser_array;\n\n            let score_board = data.score_board;\n            let account_ids = Object.keys(score_board);\n            account_ids.forEach(account_id => {\n                const player = th.getPlayerById(account_id);\n                player.account_score = score_board[account_id];\n                this.initSingleSeat(player);\n            });\n            this.refreshOptions();\n        });\n    },\n    showNiuType(player) {\n        const index = th.getLocalIndex(player.serial_num - 1);\n        const nodeSeat = this.nodeSeats[index];\n        const nodePoker = this.nodePokers[index];\n        if (player.account_id != th.myself.account_id) {\n            //TODO 显示牛几\n            let niuType = th.pokerManager.getNiuSprite(\n                player.card_type,\n                player.combo_point\n            );\n            niuType.x = nodeSeat.x > 0 ? -160 : 150;\n            niuType.y = -20;\n            nodePoker.addChild(niuType);\n        } else {\n            //TODO 显示牛几\n            let niuType = th.pokerManager.getNiuSprite(\n                player.card_type,\n                player.combo_point\n            );\n            niuType.x = 310;\n            niuType.y = 70;\n            nodePoker.addChild(niuType);\n        }\n    },\n    initView() {\n        cc.log(\"GameNN initView\");\n        this.nodeCountdown.active = false;\n        this.spriteClickLookPai.node.active = false;\n        this.initRoomInfo();\n        this.initSeat();\n        this.initMtpBtn();\n        this.refreshOptions();\n        if (th.room.room_status == 2) {\n            let player = th.getMyselfPlayer();\n            player.cards = th.room.cards;\n            this.showPokers();\n        }\n    },\n    initMtpBtn() {\n        let [mtp1, mtp2, mtp3, mtp4] = th.room.bet_type_arr;\n        this.btnPlayerMtp1.node\n            .getChildByName(\"lbl_txt\")\n            .getComponent(\"cc.Label\").string = mtp1 + \"倍\";\n        this.btnPlayerMtp2.node\n            .getChildByName(\"lbl_txt\")\n            .getComponent(\"cc.Label\").string = mtp2 + \"倍\";\n        this.btnPlayerMtp3.node\n            .getChildByName(\"lbl_txt\")\n            .getComponent(\"cc.Label\").string = mtp3 + \"倍\";\n        this.btnPlayerMtp4.node\n            .getChildByName(\"lbl_txt\")\n            .getComponent(\"cc.Label\").string = mtp4 + \"倍\";\n        this.btnBankerMtp1.node.acitve = false;\n        this.btnBankerMtp2.node.acitve = false;\n        this.btnBankerMtp4.node.acitve = false;\n        this.btnPlayerMtp1.node.active = false;\n        this.btnPlayerMtp2.node.active = false;\n        this.btnPlayerMtp3.node.active = false;\n        this.btnPlayerMtp4.node.active = false;\n\n        this.btnPlayerMtp1.multiples = mtp1;\n        this.btnPlayerMtp2.multiples = mtp2;\n        this.btnPlayerMtp3.multiples = mtp3;\n        this.btnPlayerMtp4.multiples = mtp4;\n\n        this.btnQiang.node.active = false;\n        this.btnBuqiang.node.active = false;\n        this.btnReady.node.active = false;\n        this.btnShow.node.active = false;\n    },\n    refreshOptions() {\n        if (!th.myself.isPlayer) {\n            //游客直接不显示\n            this.nodeOptions.active = false;\n        } else {\n            this.nodeOptions.active = true;\n\n            /*\n            banker_mode: 1,\n            1 = 自由抢庄     抢与不抢（没有倍数）都不抢或者都抢随机一个    选倍数（不是庄选）    开牌\n            2 = 明牌抢庄\n            3 = 转庄牛牛,牛牛上庄\n            4 = 通比牛牛\n            5 = 固定庄家 \n            */\n\n            const banker_mode = th.room.banker_mode;\n            const isZYQZ = banker_mode == 1;\n\n            let player = th.getMyselfPlayer();\n            //准备按钮\n            let isShowBtnReady =\n                (player.account_status == 0 || player.account_status == 1) &&\n                th.room.room_status == 1;\n            this.btnReady.node.active = isShowBtnReady;\n            //抢庄按钮\n            let isShowQiangBrank =\n                player.account_status == 3 &&\n                (th.room.room_status == 1 || th.room.room_status == 2);\n            this.btnBankerMtp1.node.active = isShowQiangBrank && !isZYQZ;\n            this.btnBankerMtp2.node.active = isShowQiangBrank && !isZYQZ;\n            this.btnBankerMtp4.node.active = isShowQiangBrank && !isZYQZ;\n            this.btnQiang.node.active = isShowQiangBrank && isZYQZ;\n            this.btnBuqiang.node.active = isShowQiangBrank;\n            //闲加倍数选择\n            let isShowSelectMultiples =\n                player.is_banker == 0 &&\n                player.account_status == 6 &&\n                (th.room.room_status == 1 || th.room.room_status == 2);\n            this.btnPlayerMtp1.node.active = isShowSelectMultiples;\n            this.btnPlayerMtp2.node.active = isShowSelectMultiples;\n            this.btnPlayerMtp3.node.active = isShowSelectMultiples;\n            this.btnPlayerMtp4.node.active = isShowSelectMultiples;\n            //摊牌按钮\n            this.btnShow.node.active =\n                player.account_status == 7 &&\n                (th.room.room_status == 1 || th.room.room_status == 2) &&\n                th.myself.needLookCount <= 0;\n            let isShowClickLookPai =\n                player.account_status == 7 &&\n                (th.room.room_status == 1 || th.room.room_status == 2) &&\n                th.myself.needLookCount > 0;\n            this.spriteClickLookPai.node.active = isShowClickLookPai;\n        }\n    },\n    initRoomInfo() {\n        this.lblRoomInfo.string = `${th.room.game_num}/${\n            th.room.total_num\n        }局 底分：${th.room.base_score}分`;\n    },\n    initSeat() {\n        const seatsxy = th.getSeatXY();\n        for (let i = 0; i < seatsxy.length; i++) {\n            let [x, y] = seatsxy[i];\n            let seat = cc.instantiate(this.seatPrefab);\n            seat.x = x;\n            seat.y = y;\n            seat.seatIndex = i; //为座位编号\n            this.node.addChild(seat);\n            this.nodeSeats.push(seat);\n            this.componentSeats.push(seat.getComponent(\"Seat\"));\n            this.nodePokers.push(\n                seat.getChildByName(\"info\").getChildByName(\"pokers\")\n            );\n        }\n        const players = th.room.players;\n        for (var i = 0; i < players.length; ++i) {\n            this.initSingleSeat(players[i]);\n        }\n    },\n    initSingleSeat: function(player) {\n        const index = th.getLocalIndex(player.serial_num - 1);\n        this.componentSeats[index].setInfo(\n            player.account_id,\n            player.nickname,\n            player.account_score,\n            player.headimgurl,\n            player.sex\n        );\n        this.componentSeats[index].setOffline(\n            player.online_status == 1 ? false : true\n        );\n        this.componentSeats[index].setBanker(\n            player.is_banker == 1 ? true : false\n        );\n        this.componentSeats[index].setScore(player.account_score, true);\n        this.componentSeats[index].setReady(player.account_status == 2);\n        if (player.account_status == 4) {\n            //不抢\n            this.componentSeats[index].setMultiples(\"n\");\n        } else if (player.account_status == 5) {\n            //抢庄\n            let mtp = player.multiples != 0 ? \"x\" + player.multiples : \"\";\n            this.componentSeats[index].setMultiples(\"y\" + mtp);\n        } else if (player.account_status == 6) {\n            //闲家倍数\n            if (player.is_banker == 1) {\n                this.componentSeats[index].setMultiples(\n                    player.multiples != 0 ? \"x\" + player.multiples : \"\"\n                );\n            } else {\n                this.componentSeats[index].setMultiples(null);\n            }\n        } else if (player.account_status == 7) {\n            //未摊牌\n            this.componentSeats[index].setMultiples(\n                player.is_banker == 1 ? null : \"x\" + player.multiples\n            );\n        }\n    },\n    onBankerMultiplesClicked: function(targer, value) {\n        let multiples = targer.target.multiples;\n        cc.log(\"onBankerMultiplesClicked:\", targer.multiples, multiples);\n        const params = {\n            operation: \"GrabBanker\",\n            account_id: th.myself.account_id,\n            session: th.sign,\n            data: {\n                room_id: th.room.room_id,\n                is_grab: 1,\n                multiples: Number(multiples)\n            }\n        };\n        cc.log(\"===>>>[GrabBanker] GameNN:\", params);\n        th.ws.send(JSON.stringify(params));\n    },\n    onBuqiangClicked: function() {\n        const params = {\n            operation: \"GrabBanker\",\n            account_id: th.myself.account_id,\n            session: th.sign,\n            data: {\n                room_id: th.room.room_id,\n                is_grab: 0,\n                multiples: 1\n            }\n        };\n        cc.log(\"===>>>[NoGrabBanker] GameNN:\", params);\n        th.ws.send(JSON.stringify(params));\n    },\n    onReadyClicked: function() {\n        cc.log(\"onReadyClicked\");\n        const params = {\n            operation: \"ReadyStart\", //操作标志\n            account_id: th.myself.account_id, //用户id};\n            session: th.sign,\n            data: {\n                room_id: th.room.room_id\n            }\n        };\n        cc.log(\"===>>>[ReadyStart] GameNN:\", params);\n        th.ws.send(JSON.stringify(params));\n    },\n    onPlayerMultiplesClicked: function(targer, value) {\n        cc.log(\"onPlayerMultiplesClicked:\", value);\n        const params = {\n            operation: \"PlayerMultiples\",\n            account_id: th.myself.account_id,\n            session: th.sign,\n            data: {\n                room_id: th.room.room_id,\n                multiples: Number(value)\n            }\n        };\n        cc.log(\"===>>>[PlayerMultiples] GameNN:\", params);\n        th.ws.send(JSON.stringify(params));\n    },\n    onShowClicked: function(targer) {\n        cc.log(\"onPlayerMultiplesClicked:\");\n        const params = {\n            operation: \"ShowCard\", //操作标志\n            account_id: th.myself.account_id, //用户id};\n            session: th.sign,\n            data: {\n                room_id: th.room.room_id\n            }\n        };\n        cc.log(\"===>>>[ShowCard] GameNN:\", params);\n        th.ws.send(JSON.stringify(params));\n    },\n    onBackClicked: function(targer) {\n        th.wc.show(\"正在加载。。。\");\n        cc.director.loadScene(\"Hall\", () => {\n            th.wc.hide();\n        });\n    },\n    onChatClicked(targer) {\n        /*\n        this.node.getChildByName(\"Poker_Ghost\")\n        .runAction(cc.sequence(cc.rotateBy(0,0,-180),cc.rotateBy(0.5,0,90), cc.callFunc((targer)=>{\n            cc.log(\"换派\",targer);\n            targer.getChildByName(\"bg_back\").active=false;;\n        }),cc.rotateBy(0.5,0,90)) )\n         let poker = th.pokerManager.getPokerSpriteById(\"A1\");\n        this.node.getChildByName(\"Poker_Back\").addChild(poker);\n        this.node.addChild(th.pokerManager.getNiuSprite(4, 0));\n        this.setCountdown(10, \"TEST.....\");\n        */\n        cc.log(th.room);\n    },\n    onMoreClicked(targer) {\n        let seat = this.componentSeats[0];\n        seat.setChat(\"伙右伙历伙\");\n        seat.setReady(true);\n        seat.setOffline(true);\n        seat.setScore(\"-8888\");\n        seat.setUserName(\"我的名字\");\n        seat.setCountdown(10);\n    },\n    onThemeClicked(targer) {\n        let seat = this.componentSeats[0];\n        seat.setChat(\"伙右伙历伙伙右伙历伙\");\n        seat.setReady(false);\n        seat.setOffline(true);\n        seat.setScore(\"+8888\");\n        seat.setCountdown(0);\n    },\n    onLookClicked(targer) {},\n    onPokerClicked(targer, value) {\n        cc.log(\"Poker\", targer.target.pokerId, value);\n        let pokerId = targer.target.pokerId;\n        if (pokerId != -1) {\n            cc.log(\"111111th.myself.needLookCount:\", th.myself.needLookCount);\n            targer.target.runAction(\n                cc.sequence(\n                    cc.scaleTo(0.3, 0, 1),\n                    cc.callFunc(target => {\n                        target.addChild(\n                            th.pokerManager.getPokerSpriteById(pokerId)\n                        );\n                    }),\n                    cc.scaleTo(0.3, 1, 1),\n                    cc.callFunc(traget => {\n                        traget.pokerId = -1;\n                    })\n                )\n            );\n            th.myself.needLookCount = th.myself.needLookCount - 1;\n            cc.log(\"2222222th.myself.needLookCount:\", th.myself.needLookCount);\n            this.refreshOptions();\n        }\n    },\n    showPokers() {\n        //找到坐位上有人，且准备的发牌\n        let seatIndexs = [];\n        let players = [];\n        th.room.players.forEach(player => {\n            if (player.account_status) {\n                const index = th.getLocalIndex(player.serial_num - 1);\n                seatIndexs.push(index);\n                players.push(player);\n            }\n        });\n        let myLocalIndex = th.getMyselfLocalIndex();\n        for (let i = 0; i < seatIndexs.length; i++) {\n            let player = players[i];\n            let pokerIds = player.cards;\n            let isMyself = seatIndexs[i] == myLocalIndex;\n            if (player.account_status == 7) {\n                //没摊牌\n                if (isMyself) {\n                    pokerIds = new Array(5).fill(-1);\n                    pokerIds[0] = player.cards[0];\n                    pokerIds[1] = player.cards[1];\n                    pokerIds[2] = player.cards[2];\n                } else {\n                    pokerIds = new Array(5).fill(-1);\n                }\n            } else if (player.account_status == 8) {\n                //摊牌\n                pokerIds = player.cards;\n            } else {\n                //其他\n                pokerIds = new Array(5).fill(-1);\n            }\n            cc.log(\n                \"是自己：\" + isMyself,\n                player.nickname + \" 发牌：\",\n                pokerIds\n            );\n            let basePoker = this.nodePokers[seatIndexs[i]];\n            basePoker.removeAllChildren();\n            let readyPokersIds = player.cards;\n            for (let pi = 0; pi < pokerIds.length; pi++) {\n                let pokerId = pokerIds[pi];\n                let readyPokerId = readyPokersIds[pi] || -1;\n                let poker = th.pokerManager.getPokerSpriteById(pokerId);\n                poker.pokerId = readyPokerId;\n                poker.scale = 0.65;\n                //poker.x = (seat.x > 0 ? -250 : 45) + basePoker.y + pi * 30;\n                poker.position = basePoker.convertToNodeSpaceAR(\n                    cc.v2(375, 603 + 60)\n                );\n                if (pokerId == -1) {\n                    let clickEventHandler = new cc.Component.EventHandler();\n                    clickEventHandler.target = this.node; //这个 node 节点是你的事件处理代码组件所属的节点\n                    clickEventHandler.component = \"GameNN\"; //这个是代码文件名\n                    clickEventHandler.handler = \"onPokerClicked\";\n                    clickEventHandler.customEventData = readyPokerId;\n                    poker\n                        .getComponent(cc.Button)\n                        .clickEvents.push(clickEventHandler);\n                }\n                basePoker.addChild(poker);\n            }\n        }\n        //发牌效果\n\n        for (let i = 0; i < 5; i++) {\n            for (let j = 0; j < seatIndexs.length; j++) {\n                let seatIndex = seatIndexs[j];\n                let seat = this.nodeSeats[seatIndex];\n                let basePokers = this.nodePokers[seatIndex];\n                let pokers = basePokers.children;\n                let poker = pokers[i];\n                let isMyself = seatIndex == myLocalIndex;\n                //cc.log(seatIndex, myLocalIndex, seatIndex == myLocalIndex);\n                ((poker, delay, x, y, isMyself) => {\n                    //cc.log(\"delay:\", delay, x, y, isMyself);\n                    if (isMyself) {\n                        poker.runAction(\n                            cc.sequence(\n                                cc.delayTime(delay),\n                                cc.spawn(\n                                    cc.moveTo(0.2, cc.v2(x, y)),\n                                    cc.scaleTo(0.2, 1)\n                                )\n                            )\n                        );\n                    } else {\n                        poker.runAction(\n                            cc.sequence(\n                                cc.delayTime(delay),\n                                cc.moveTo(0.2, cc.v2(x, y))\n                            )\n                        );\n                    }\n                })(\n                    poker,\n                    0.1 + i * 0.04 * seatIndexs.length + j * 0.04,\n                    (isMyself ? 100 : seat.x > 0 ? -210 : 90) +\n                        basePokers.y +\n                        i * (isMyself ? 110 : 30),\n                    isMyself ? -25 : 0,\n                    isMyself\n                );\n            }\n        }\n\n        //如果玩家已经 摊牌，显示牛\n        for (let i = 0; i < seatIndexs.length; i++) {\n            let player = players[i];\n            if (player.account_status == 8) {\n                this.showNiuType(player);\n            }\n        }\n    },\n    setCountdown(val, content) {\n        let num = Number(val);\n        this.nodeCountdown.active = num > 0 ? true : false;\n        if (content) {\n            this.nodeCountdown\n                .getChildByName(\"lbl_title\")\n                .getComponent(\"cc.Label\").string = content;\n        } else {\n            this.nodeCountdown.getChildByName(\"lbl_title\").node.active = false;\n        }\n        this._countdownEndTime = Date.now() + num * 1000;\n        this._alertStartTime = Date.now() + (num - 3) * 1000;\n        this._isPlay = false;\n\n        this.scheduleOnce(() => {\n            if (this._countdownEndTime <= Date.now()) {\n                this.nodeCountdown.active = false;\n            }\n        }, num + 0.1);\n    },\n    update: function(dt) {\n        var now = Date.now();\n        if (this._countdownEndTime > now) {\n            var miao = Math.ceil((this._countdownEndTime - now) / 1000);\n            this.lblCountdown.string = miao;\n        }\n        if (this._alertStartTime < now && !this._isPlay) {\n            this._isPlay = true;\n            th.audioManager.playSFX(\"timeup_alarm.mp3\");\n        }\n    }\n});\n"]}