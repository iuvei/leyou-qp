{"version":3,"sources":["Chat.js"],"names":["cc","Class","extends","Component","properties","queckChatNode","Node","emojiNode","onLoad","th","node","active","onEnable","onCloseClicked","targer","value","audioManager","playSFX","onQuickChatToggleClicked","onEmojiToggleClicked","onQuickChatClicked","log","params","operation","account_id","myself","session","sign","data","room_id","room","voice_num","ws","send","JSON","stringify","parent","emit","onEmojiClicked"],"mappings":"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","file":"Chat.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        queckChatNode: cc.Node,\r\n        emojiNode: cc.Node\r\n    },\r\n\r\n    onLoad: function() {\r\n        if (th == null) {\r\n            return;\r\n        }\r\n        this.node.active = false;\r\n    },\r\n\r\n    // update: function (dt) {\r\n\r\n    // },\r\n\r\n    onEnable: function() {},\r\n\r\n    onCloseClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.node.active = false;\r\n    },\r\n\r\n    onQuickChatToggleClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.queckChatNode.active = true;\r\n        this.emojiNode.active = false;\r\n    },\r\n\r\n    onEmojiToggleClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.queckChatNode.active = false;\r\n        this.emojiNode.active = true;\r\n    },\r\n\r\n    onQuickChatClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.queckChatNode.active = true;\r\n        this.emojiNode.active = false;\r\n        this.node.active = false;\r\n        cc.log(\"value:\", value);\r\n\r\n        const params = {\r\n            operation: \"BroadcastVoice\", //操作标志\r\n            account_id: th.myself.account_id, //用户id};\r\n            session: th.sign,\r\n            data: {\r\n                room_id: th.room.room_id,\r\n                voice_num: \"q\" + value\r\n            }\r\n        };\r\n        cc.log(\"===>>>[BroadcastVoice] Chat:\", params);\r\n        th.ws.send(JSON.stringify(params));\r\n        this.node.parent.emit(\"BroadcastVoice\", {\r\n            account_id: th.myself.account_id,\r\n            voice_num: \"q\" + value\r\n        });\r\n    },\r\n\r\n    onEmojiClicked: function(targer, value) {\r\n        th.audioManager.playSFX(\"click.mp3\");\r\n        this.queckChatNode.active = false;\r\n        this.emojiNode.active = true;\r\n        this.node.active = false;\r\n        cc.log(\"value:\", value);\r\n\r\n        const params = {\r\n            operation: \"BroadcastVoice\", //操作标志\r\n            account_id: th.myself.account_id, //用户id};\r\n            session: th.sign,\r\n            data: {\r\n                room_id: th.room.room_id,\r\n                voice_num: \"e\" + value\r\n            }\r\n        };\r\n        cc.log(\"===>>>[BroadcastVoice] Chat:\", params);\r\n        th.ws.send(JSON.stringify(params));\r\n        this.node.parent.emit(\"BroadcastVoice\", {\r\n            account_id: th.myself.account_id,\r\n            voice_num: \"e\" + value\r\n        });\r\n    }\r\n});\r\n"]}