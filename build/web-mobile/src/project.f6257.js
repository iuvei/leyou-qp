window.__require=function e(t,n,i){function c(a,s){if(!n[a]){if(!t[a]){var h=a.split("/");if(h=h[h.length-1],!t[h]){var r="function"==typeof __require&&__require;if(!s&&r)return r(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+a+"'")}}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return c(t[a][1][e]||e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)c(i[a]);return c}({Alert:[function(e,t,n){"use strict";cc._RF.push(t,"92b221INIJJb5nBIGItKv1h","Alert"),cc.Class({extends:cc.Component,properties:{btnConfirm:cc.Button,btnCancel:cc.Button,title:cc.Label,content:cc.Label,_fnConfirm:null},onLoad:function(){if(cc.log("Alert====>onload"),null==th)return null;th.alert=this,this.node.active=!1,this._fnConfirm=null},show:function(e,t,n,i){cc.log("showBtnCancel:"+i),this.node&&(this.node.active=!0),this.title&&(this.title.string=e||""),this.content&&(this.content.string=t||""),this._fnConfirm=n,i?(this.btnCancel.node.active=!0,this.btnCancel.node.x=100,this.btnConfirm.node.x=-100):(this.btnCancel.node.active=!1,this.btnConfirm.node.x=0)},onCancelClicked:function(){th.audioManager.playSFX("click.mp3"),this.node.active=!1},onConfirmClicked:function(){th.audioManager.playSFX("click.mp3"),this.node.active=!1,this._fnConfirm&&this._fnConfirm()},hide:function(){this.node&&(this.node.active=!1)},onDestory:function(){th&&(th.alert=null)}}),cc._RF.pop()},{}],AppStart:[function(e,t,n){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","AppStart"),cc.Class({extends:cc.Component,properties:{lblLoadingMsg:cc.Label},onLoad:function(){},start:function(){cc.director.loadScene("Hall")},update:function(e){}}),cc._RF.pop()},{}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"49eabkSZJVCNYmReqIl35Mp","AudioManager"),cc.Class({extends:cc.Component,properties:{bgmVolume:.5,sfxVolume:.5,bgmAudioID:-1,sfxAudioID:-1,_pauseBgm:!0},onLoad:function(){cc.log("AudioManager OnLoad.....")},init:function(){var e=cc.sys.localStorage.getItem("bgmVolume");e?this.bgmVolume=parseFloat(e):cc.sys.localStorage.setItem("bgmVolume",this.bgmVolume);var t=cc.sys.localStorage.getItem("sfxVolume");t?this.sfxVolume=parseFloat(t):cc.sys.localStorage.setItem("sfxVolume",this.sfxVolume),cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(e){var t=e.lastIndexOf(".");return"sounds/"+(t>-1?e.substr(0,t):e)},playBGM:function(e){var t=this,n=this.getUrl(e);this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this._pauseBgm=!0,cc.loader.loadRes(n,cc.AudioClip,function(e,n){e||(t.bgmAudioID=cc.audioEngine.play(n,!0,t.bgmVolume))})},playSFX:function(e){var t=this,n=this.getUrl(e);this.sfxVolume>0&&cc.loader.loadRes(n,cc.AudioClip,function(e,n){e||(t.sfxAudioID=cc.audioEngine.play(n,!1,t.sfxVolume))})},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e){this.bgmAudioID>=0&&(this._pauseBgm&&e>0?(this._pauseBgm=!1,cc.audioEngine.resume(this.bgmAudioID)):this._pauseBgm||0!=e||(this._pauseBgm=!0,cc.audioEngine.pause(this.bgmAudioID))),this.bgmVolume!=e&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()}}),cc._RF.pop()},{}],CreateNN:[function(e,t,n){"use strict";cc._RF.push(t,"f9be6OCtzFFjb+Jw0VMXcmZ","CreateNN");var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,c=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(c)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();cc.Class({extends:cc.Component,properties:{mode:cc.Node,ghost:cc.Node,ghostLine:cc.Sprite,bankScore:cc.Node,bankScoreLine:cc.Sprite,people:cc.Node,peopleLine:cc.Sprite,dropdown:cc.Node,dropdownContent:cc.Node,dropdownPrefab:cc.Prefab,createFrom:null},onLoad:function(){null!=th&&(this.dropdown.active=!1,this.showGhost(!1),this.showBankScore(!1),this.createFrom={banker_mode:1,theme:1,score_type:1,ghost:2,people:6,rule_type:1,is_cardfour:1,is_cardfourtiny:1,is_cardfive:1,is_straight:1,is_flush:1,is_calabash:1,is_cardbomb:1,is_sequence:1,is_cardtiny:1,bankScore:0,bet_type:1,ready_time:3,grab_time:5,bet_time:5,show_time:3,fangka:1,auto:0})},show:function(e){switch(cc.log("CreateNN:",e),cc.log("createFrom:",this.createFrom),e){case"jdnn":this.createFrom.people=6,this.showPeoples(!0,6,3),this.showGhost(!1);break;case"12rnn":this.createFrom.people=12,this.showPeoples(!1,12,5),this.showGhost(!1);break;case"13rnn":this.createFrom.people=13,this.showPeoples(!1,13,5),this.showGhost(!1);break;case"lznn":this.createFrom.people=6,this.showPeoples(!0,6,5),this.showGhost(!0),this.showMode(2)}this.node.active=!0},showGhost:function(e){this.ghost.active=e,this.ghostLine.node.active=e},showBankScore:function(e){this.bankScore.active=e,this.bankScoreLine.node.active=e},showPeoples:function(e,t,n){this.people.active=e,this.peopleLine.node.active=e,this.people.getChildByName("toggle").getComponent("cc.ToggleContainer").allowSwitchOff=!0,this.people.getChildByName("toggle").children.forEach(function(e,i){e.active=i<n,e.name==="btn_"+t+"ren"?e.getComponent("cc.Toggle").check():e.getComponent("cc.Toggle").uncheck()}),this.people.getChildByName("toggle").getComponent("cc.ToggleContainer").allowSwitchOff=!1},showMode:function(e){this.mode.getComponent("cc.ToggleContainer").allowSwitchOff=!0,this.mode.children.forEach(function(t,n){t.active=n<e,0===n?t.getComponent("cc.Toggle").check():t.getComponent("cc.Toggle").uncheck()}),this.mode.getComponent("cc.ToggleContainer").allowSwitchOff=!1},onBankerModeGroupClicked:function(e,t){th.audioManager.playSFX("click.mp3")},onBankerModeClicked:function(e,t){if(e.isChecked)switch(t){case"mpqz":this.createFrom.banker_mode=2,this.showBankScore(!1);break;case"zjqz":this.createFrom.banker_mode=1,this.showBankScore(!1);break;case"zznn":this.createFrom.banker_mode=3,this.showBankScore(!1);break;case"tbnn":this.createFrom.banker_mode=4,this.showBankScore(!1);break;case"gdzj":this.createFrom.banker_mode=5,this.showBankScore(!0)}},onThemeClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.theme=Number(t)},onDifengClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.score_type=Number(t)},onGhostClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.ghost=Number(t)},onPeopleGrouplicked:function(e,t){th.audioManager.playSFX("click.mp3")},onPeopleClicked:function(e,t){e.isChecked&&(this.createFrom.people=Number(t))},onRuleClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.rule_type=Number(t)},onPaixingClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom[t]=e.isChecked?1:0},onBankScoreClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.bankScore=Number(t)},onBetTypeClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.bet_type=Number(t)},onShijianClicked:function(e){cc.log("onCreateClicked:",this.createFrom)},onFangkaClicked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createFrom.fangka=Number(t)},onAutoClicked:function(e,t){th.audioManager.playSFX("click.mp3"),cc.log("onAutoClicked:",e.isChecked),this.createFrom.auto=e.isChecked?1:0},onCreateClicked:function(e){cc.log("onCreateClicked:",this.createFrom)},onShowDropDown:function(e,t){this.dropdownContent.removeAllChildren(),this.dropdownContent.target=e.target,this.dropdownContent.type=t;var n=[0,0],c="\u79d2";switch(t){case"score_type":n=[6,100],c="\u5206";break;case"ready_time":n=[3,6];break;case"grab_time":case"bet_time":n=[5,10];break;case"show_time":n=[3,6]}this.dropdownContent.suffix=c;for(var o=i(n,2),a=o[0],s=o[1],h=a;h<=s;h++){var r=cc.instantiate(this.dropdownPrefab);r.val=h,r.getChildByName("lbl_remark").getComponent("cc.Label").string=""+h+c,h===a?r.getComponent("cc.Toggle").check():r.getComponent("cc.Toggle").uncheck(),this.dropdownContent.addChild(r)}this.dropdown.active=!0},onDropDownClicked:function(e,t){switch(this.dropdownContent.target.getChildByName("lbl_value").getComponent("cc.Label").string=""+e.target.val+this.dropdownContent.suffix,this.dropdownContent.type){case"score_type":this.createFrom.score_type=e.target.val;break;case"ready_time":this.createFrom.ready_time=e.target.val;break;case"grab_time":this.createFrom.grab_time=e.target.val;break;case"bet_time":this.createFrom.bet_time=e.target.val;break;case"show_time":this.createFrom.show_time=e.target.val}this.dropdown.active=!1},onDropDownCloseClicked:function(e,t){this.dropdown.active=!1},onCloseClicked:function(e){this.node.active=!1}}),cc._RF.pop()},{}],CreateZJH:[function(e,t,n){"use strict";cc._RF.push(t,"69681YtmUFJCYNJqaYi8v2w","CreateZJH"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){th},show:function(e){cc.log("CreateZJH:",e),this.node.active=!0},onCloseClicked:function(e){this.node.active=!1},start:function(){}}),cc._RF.pop()},{}],GameNN:[function(e,t,n){"use strict";cc._RF.push(t,"a6e34fDC+BAcpoXQQTJsDLe","GameNN");var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,c=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(c)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();cc.Class({extends:cc.Component,properties:{seatPrefab:cc.Prefab,seats:[cc.Node]},onLoad:function(){null!=th&&cc.log("GameNN onLoad")},initSeat:function(){for(var e=th.getSeatXY(),t=0;t<e.length;t++){var n=i(e[t],2),c=n[0],o=n[1],a=cc.instantiate(this.seatPrefab);a.x=c,a.y=o,this.node.addChild(a),this.seats.push(a)}},onBackClicked:function(e){th.wc.show("\u6b63\u5728\u52a0\u8f7d\u3002\u3002\u3002"),cc.director.loadScene("Hall",function(){th.wc.hide()})},onChatClicked:function(e){var t=this.seats[0];t.x=-1*t.x},onMoreClicked:function(e){var t=this.seats[0].getComponent("Seat");t.setChat("\u4f19\u53f3\u4f19\u5386\u4f19"),t.setReady(!0)},onThemeClicked:function(e){},onLookClicked:function(e){},update:function(e){}}),cc._RF.pop()},{}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"7c6aas2kcFG5KBfpRPpUiDm","Global"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.log("Global onLoad...................."),window.th=window.th||{},this.initManager(),th.audioManager.playBGM("bg_hall.mp3");var e=this.node.getContentSize(),t=e.width,n=e.height;th.wsurl="ws://118.31.10.116:10000/bull",th.width=t,th.height=n,th.numberOfPeople=6,th.seatxy={6:[[305,-100],[305,200],[-100,485],[-305,200],[-305,-100],[-305,-420]],9:[[305,-200],[305,0],[305,200],[305,400],[-305,400],[-305,200],[-305,0],[-305,-200],[-305,-420]],10:[[305,-220],[305,-40],[305,140],[305,320],[-100,485],[-305,320],[-305,140],[-305,-40],[-305,-220],[-305,-420]],12:[[305,-260],[305,-110],[305,40],[305,190],[305,340],[-100,485],[-305,340],[-305,190],[-305,40],[-305,-110],[-305,-260],[-305,-420]],13:[[305,-260],[305,-110],[305,40],[305,190],[305,340],[305,485],[-305,485],[-305,340],[-305,190],[-305,40],[-305,-110],[-305,-260],[-305,-420]]},th.getSeatXY=function(){return th.seatxy[this.numberOfPeople.toString()]}},initManager:function(){th.ws=e("WebSocket");var t=e("AudioManager");th.audioManager=new t,th.audioManager.init();var n=e("WebSocketManager");th.webSocketManager=new n,th.webSocketManager.initHandlers()}}),cc._RF.pop()},{AudioManager:"AudioManager",WebSocket:"WebSocket",WebSocketManager:"WebSocketManager"}],Hall:[function(e,t,n){"use strict";cc._RF.push(t,"773fdxZFshNqYWrF+ZWmpkp","Hall"),cc.Class({extends:cc.Component,properties:{dock:cc.Node,dating:cc.Node,yuleting:cc.Node,zhanji:cc.Node,gerenzhongxin:cc.Node,selectNN:cc.Node,selectZJH:cc.Node,voiceToggle:cc.Toggle,fangzuobi:cc.Node,bangdingshouji:cc.Node,sendfangka:cc.Node,zhanjitongji:cc.Node,shimingrenzheng:cc.Node,createNN:cc.Node,createZJH:cc.Node,createNNComponent:cc.Class,createZJHComponent:cc.Class},onLoad:function(){cc.log("Hall onload."),null!=th&&(this.createNNComponent=this.node.getChildByName("CreateNN").getComponent("CreateNN"),this.createZJHComponent=this.node.getChildByName("CreateZJH").getComponent("CreateZJH"))},onEnable:function(){cc.log("Hall onEnable.");var e=cc.sys.localStorage.getItem("bgmVolume");"0"!=e?(th.audioManager.setBGMVolume(e),this.voiceToggle.isChecked=!1):this.voiceToggle.isChecked=!0},start:function(){cc.log("Hall start.")},update:function(e){},onFangkaChecked:function(e){th.wc.show("\u6b63\u5728\u52a0\u8f7d\u3002\u3002\u3002"),cc.director.loadScene("GameNN",function(){th.wc.hide()})},onFzbChecked:function(e){th.audioManager.playSFX("click.mp3"),this.fangzuobi.x=0,this.fangzuobi.y=0,this.fangzuobi.active=!0},onFzbCloseChecked:function(e){th.audioManager.playSFX("click.mp3"),this.fangzuobi.active=!1},onFzbYesChecked:function(e){th.audioManager.playSFX("click.mp3"),this.fangzuobi.active=!1},onBdsjChecked:function(e){th.audioManager.playSFX("click.mp3"),this.bangdingshouji.x=0,this.bangdingshouji.y=0,this.bangdingshouji.active=!0},onBdsjCloseChecked:function(e){th.audioManager.playSFX("click.mp3"),this.bangdingshouji.active=!1},onBdsjYesChecked:function(e){th.audioManager.playSFX("click.mp3"),this.bangdingshouji.active=!1},onZhanjiChecked:function(e){th.audioManager.playSFX("click.mp3"),this.dating.active=!1,this.yuleting.active=!1,this.zhanji.active=!0,this.gerenzhongxin.active=!1,this.dock.getChildByName("toogle_menu").getComponent("cc.ToggleContainer").allowSwitchOff=!0,this.dock.getChildByName("toogle_menu").children.forEach(function(e,t){"btn_zhanji"===e.name?e.getComponent("cc.Toggle").check():e.getComponent("cc.Toggle").uncheck()}),this.dock.getChildByName("toogle_menu").getComponent("cc.ToggleContainer").allowSwitchOff=!1},onZhanjitongjiChecked:function(e){th.audioManager.playSFX("click.mp3"),this.zhanjitongji.x=0,this.zhanjitongji.y=0,this.zhanjitongji.active=!0},onZhanjitongjiCloseChecked:function(e){th.audioManager.playSFX("click.mp3"),this.zhanjitongji.active=!1},onSendFangkaChecked:function(e){th.audioManager.playSFX("click.mp3"),this.sendfangka.x=0,this.sendfangka.y=0,this.sendfangka.active=!0},onSendFangkaCloseChecked:function(e){th.audioManager.playSFX("click.mp3"),this.sendfangka.active=!1},onShimingrenzhengChecked:function(e){th.audioManager.playSFX("click.mp3"),this.shimingrenzheng.x=0,this.shimingrenzheng.y=0,this.shimingrenzheng.active=!0},onShimingrenzhengCloseChecked:function(e){th.audioManager.playSFX("click.mp3"),this.shimingrenzheng.active=!1},onVoiceChecked:function(e){th.audioManager.playSFX("click.mp3"),cc.log("\u5f00\u5173\u58f0\u97f3",e.isChecked),e.isChecked?th.audioManager.setBGMVolume(0):th.audioManager.setBGMVolume(.5)},onCopyIdChecked:function(e){th.audioManager.playSFX("click.mp3"),cc.log("\u590d\u5236ID")},onDockChecked:function(e,t){switch(th.audioManager.playSFX("click.mp3"),t){case"dating":this.dating.active=!0,this.yuleting.active=!1,this.zhanji.active=!1,this.gerenzhongxin.active=!1;break;case"yuleting":this.dating.active=!1,this.yuleting.active=!0,this.zhanji.active=!1,this.gerenzhongxin.active=!1;break;case"zhanji":this.dating.active=!1,this.yuleting.active=!1,this.zhanji.active=!0,this.gerenzhongxin.active=!1;break;case"gerenzhongxin":this.dating.active=!1,this.yuleting.active=!1,this.zhanji.active=!1,this.gerenzhongxin.active=!0}},onHallGameChecked:function(e,t){switch(th.audioManager.playSFX("click.mp3"),t){case"nn":this.bottomToTopAnim(this.selectNN);break;case"zjh":this.bottomToTopAnim(this.selectZJH)}},onSelectGameCloseClicked:function(e,t){switch(th.audioManager.playSFX("click.mp3"),t){case"nn":this.topToBottomAnim(this.selectNN);break;case"zjh":this.topToBottomAnim(this.selectZJH)}},bottomToTopAnim:function(e){e.isRun||(e.position=cc.v2(0,-th.height),e.runAction(cc.sequence(cc.callFunc(function(){e.isRun=!0}),cc.moveTo(.2,cc.v2(0,0)).easing(cc.easeSineIn()),cc.callFunc(function(){e.isRun=!1}))))},topToBottomAnim:function(e){e.isRun||e.runAction(cc.sequence(cc.callFunc(function(){e.isRun=!0}),cc.moveTo(.2,cc.v2(0,-th.height)).easing(cc.easeSineIn()),cc.callFunc(function(){e.isRun=!1})))},onSelectNNChecked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createNN.x=0,this.createNN.y=0,this.createNNComponent.show(t)},onSelectZJHChecked:function(e,t){th.audioManager.playSFX("click.mp3"),this.createZJH.x=0,this.createZJH.y=0,this.createZJHComponent.show(t)}}),cc._RF.pop()},{}],Seat:[function(e,t,n){"use strict";cc._RF.push(t,"9184bee/dtCqqHphret4VYD","Seat"),cc.Class({extends:cc.Component,properties:{headImg:cc.Sprite,lblName:cc.Label,lblWinScore:cc.Label,lblLoseScore:cc.Label,offline:cc.Sprite,fangzhu:cc.Sprite,ready:cc.Sprite,banker:cc.Sprite,emoji:cc.Sprite,chat:cc.Label,_userId:null,_userName:"--",_headImgUrl:null,_sex:0,_score:0,_isOffline:!1,_isReady:!1,_isFangzhu:!1,_isbanker:!1,_lastChatTime:-1},onLoad:function(){},start:function(){},refresh:function(){this._userName&&(this.lblName.string=this._userName),this._score&&(this._score>=0?(this.lblWinScore.string=this._score,this.lblWinScore.node.active=!0,this.lblLoseScore.node.active=!1):(this.lblLoseScore.string=this._score,this.lblLoseScore.node.active=!0,this.lblWinScore.node.active=!1)),this.offline&&(this.offline.node.active=this._isOffline&&null!=this._userId),this.ready&&(this.ready.node.active=this._isReady&&"idle"==th.socketIOManager.status),this.fangzhu&&(this.fangzhu.node.active=this._isFangzhu),this.banker&&(this.banker.node.active=this._isbanker)},setUserID:function(e){this._userId=e},setUserName:function(e){this._userName=e,this.lblName&&(this.lblName.string=this._userName)},setSex:function(e){this._sex=e},setHeadImgUrl:function(e){var t=this;this._headImgUrl=e,this._headImgUrl&&this.headImg?(this.headwho.node.active=!1,this.headImg.node.active=!0,cc.loader.load({url:this._headImgUrl,type:"jpg"},function(e,n){if(!e){var i=new cc.SpriteFrame(n,cc.Rect(0,0,n.width,n.height));t.headImg.spriteFrame=i,t.headImg.node.setScale(2-n.width/94)}})):!this._headImgUrl&&t.headImg&&(this.headwho.node.active=!0,this.headImg.node.active=!1)},setScore:function(e){this._score=e,this.lblLoseScore&&this.lblWinScore&&(this._score>=0?(this.lblWinScore.string=this._score,this.lblWinScore.node.active=!0,this.lblLoseScore.node.active=!1):(this.lblLoseScore.string=this._score,this.lblLoseScore.node.active=!0,this.lblWinScore.node.active=!1))},setFangzhu:function(e){this._isFangzhu=e,this.fangzhu&&(this.fangzhu.node.active=this._isFangzhu)},setReady:function(e){this._isReady=e,this.ready&&(this.ready.node.active=this._isReady)},setBanker:function(e){this._isbanker=e,this.banker&&(this.banker.node.active=this._isbanker)},setOffline:function(e){this._isOffline=e,this.offline&&(this.offline.node.active=this._isOffline&&null!=this._userId)},setChat:function(e){this.chat&&(this.emoji.node.active=!1,this.chat.node.active=!0,this.chat.getComponent(cc.Label).string=e,this.chat.node.getChildByName("lbl_msg").getComponent(cc.Label).string=e,this._lastChatTime=2)},setQuickVoice:function(e){1==this._sex?th.audioManager.playSFX("chat/man/Speak/M_"+e):th.audioManager.playSFX("chat/women/Speak/W_"+e)},setEmoji:function(e){if(this.emoji){this.chat.node.active=!1,this.emoji.node.active=!0;var t=cc.textureCache.addImage(cc.url.raw("resources/images/emoji/emoji"+e+".png"));this.emoji.node.getComponent(cc.Sprite).spriteFrame.setTexture(t),this._lastChatTime=3}},setInfo:function(e,t,n,i,c){this.setUserID(e),this._sex=c,e?(this.setUserName(t),this.setScore(n),this.setHeadImgUrl(i)):(this.setUserName("--"),this.setScore("--"),this.setHeadImgUrl(null))},update:function(e){this._lastChatTime>0&&(this._lastChatTime-=e,this._lastChatTime<0&&(this.chat.node.active=!1,this.emoji.node.active=!1))}}),cc._RF.pop()},{}],WaitingConnection:[function(e,t,n){"use strict";cc._RF.push(t,"a72bdeeZb1Dvq/oXNZxwibM","WaitingConnection"),cc.Class({extends:cc.Component,properties:{target:cc.Node,lblContent:cc.Label},onLoad:function(){if(null==th)return null;th.wc=this,this.node.active=!1},start:function(){},update:function(e){this.target.rotation=this.target.rotation+90*e*2},show:function(e){this.node&&(this.node.x=0,this.node.y=0,this.node.active=!0),this.lblContent&&(this.lblContent.string=e||"")},hide:function(){this.node&&(this.node.active=!1)},onDestory:function(){th&&(th.wc=null)}}),cc._RF.pop()},{}],WebSocketManager:[function(e,t,n){"use strict";cc._RF.push(t,"cd3cdeY/i1G4q9ogKSoyNIL","WebSocketManager"),cc.Class({extends:cc.Component,properties:{},dispatchEvent:function(e,t){this.dataEventHandler&&this.dataEventHandler.emit(e,t)},initHandlers:function(){var e=this;cc.log("==>WebSocketManager initHandlers"),th.ws.addHandler("getUserInfo",function(t){cc.log("==>WebSocketManager getUserInfo:",JSON.stringify(t)),e.dispatchEvent("getUserInfo",t)}),th.ws.addHandler("disconnect",function(e){cc.log("==>WebSocketManager \u65ad\u5f00\u8fde\u63a5")})},connectServer:function(e){var t=this,n=e.ip,i=e.port;cc.log(th.ws.connected),th.ws.ip=n,th.ws.port=i,th.ws.addr="ws://"+n+":"+i+"/bull",th.ws.connect(function(){t.dispatchEvent("connect_success"),cc.log("==>WebSocketManager \u8fde\u63a5\u6210\u529f"),cc.director.loadScene("Hall",function(){t.dispatchEvent("connect_success")})},function(){cc.log("==>WebSocketManager \u8fde\u63a5\u5931\u8d25")})}}),cc._RF.pop()},{}],WebSocket:[function(e,t,n){"use strict";cc._RF.push(t,"8b182TVaatK/p4c8JGIa9Ek","WebSocket");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};cc.Class({extends:cc.Component,statics:{ip:null,port:null,addr:null,ws:null,handlers:{},fnDisconnect:null,isPinging:!1,lastSendTime:0,lastRecieveTime:0,delay:0,connected:!1,pingRef:null,checkRef:null,addHandler:function(e,t){if(cc.log("addHandler....",e),this.handlers[e])cc.log("event:"+e+"' handler has been registered.");else{this.handlers[e]=function(n){"disconnect"!=e&&"string"==typeof n&&(n=JSON.parse(n)),t(n)}}},connect:function(e,t){var n=this;cc.log("connect to "+this.addr),this.ws=new WebSocket(this.addr),this.ws.onopen=function(t){cc.log("WebSocket instance onopen.",n.ws),n.ws.connected=!0,e(t.data),n.heartbeat()},this.ws.onmessage=function(e){n.lastRecieveTime=Date.now(),n.delay=n.lastRecieveTime-n.lastSendTime;var t=e.data;if("@"!==t){var i=JSON.parse(t);n.handlers[i.operation](i)}else cc.log("<<<===pong")},this.ws.onerror=function(e){cc.log("WebSocket instance error."),t(error)};var i=this;this.ws.onclose=function(e){cc.log("WebSocket instance closed.",i.ws===n.ws,n.ws),n.ws.connected=!1,n.close()}},heartbeat:function(){var e=this;this.lastRecieveTime=Date.now(),this.isPinging||(this.isPinging=!0,cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("cc.game.EVENT_HIDE"),e.ping()}),this.pingRef=setInterval(function(){e.ws&&e.ping()},2e3),this.checkRef=setInterval(function(){e.ws&&Date.now()-e.lastRecieveTime>1e4&&e.close()},1e3))},close:function(){clearInterval(this.pingRef),clearInterval(this.checkRef),this.ws&&this.ws.connected&&(this.ws.connected=!1,this.ws.close()),this.ws=null,this.fnDisconnect&&(this.fnDisconnect(),this.fnDisconnect=null)},send:function(e){this.ws&&this.ws.connected&&(e&&"object"==(void 0===e?"undefined":i(e))&&JSON.stringify(e),this.ws.send(e))},ping:function(){this.ws&&(this.lastSendTime=Date.now(),this.send("@"),cc.log("===>>>ping"))}}});cc._RF.pop()},{}],Zhanji:[function(e,t,n){"use strict";cc._RF.push(t,"e12c4RB1GBDZoKMb7DwPJUA","Zhanji"),cc.Class({extends:cc.Component,properties:{},onTypeClicked:function(e,t){th.audioManager.playSFX("click.mp3"),cc.log("\u6218\u7ee9\u7c7b\u522b\u9009\u62e9:",t)},onGameClicked:function(e,t){th.audioManager.playSFX("click.mp3"),cc.log("\u6218\u7ee9\u6e38\u620f\u9009\u62e9:",t)}}),cc._RF.pop()},{}]},{},["AudioManager","Global","WebSocket","WebSocketManager","Alert","AppStart","CreateNN","CreateZJH","GameNN","Hall","Seat","WaitingConnection","Zhanji"]);