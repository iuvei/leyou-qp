{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\PokerManager.js"],"names":["cc","Class","extends","Component","properties","niuAtlas","SpriteAtlas","pokerAtlas","pokerNormal","Prefab","pokerGhost","pokerFlower","pokerBack","niuType","normalIds","ghostIds","flowerIds","onLoad","th","pokerManager","A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12","A13","B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12","B13","C1","C2","C3","C4","C5","C6","C7","C8","C9","C10","C11","C12","C13","D1","D2","D3","D4","D5","D6","D7","D8","D9","D10","D11","D12","D13","D0","E0","A0","B0","C0","N0","M0","F0","G0","H0","log","getPokerSpriteById","id","Reflect","has","small","num","big","poker","instantiate","numSprite","getChildByName","getComponent","spriteFrame","getSpriteFrame","smallSprite","bigSprite","flower","flowerSprite","getNiuSprite","cardType","comboPoint","Number","imgIndex","niu","start"],"mappings":"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","file":"PokerManager.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        niuAtlas: cc.SpriteAtlas,\r\n        pokerAtlas: cc.SpriteAtlas,\r\n        pokerNormal: cc.Prefab,\r\n        pokerGhost: cc.Prefab,\r\n        pokerFlower: cc.Prefab,\r\n        pokerBack: cc.Prefab,\r\n        niuType: cc.Prefab,\r\n        normalIds: null,\r\n        ghostIds: null,\r\n        flowerIds: null\r\n    },\r\n\r\n    onLoad() {\r\n        if (th == null) {\r\n            return;\r\n        }\r\n        th.pokerManager = this;\r\n        this.normalIds = {\r\n            A1: [\"A\", \"1\", \"A\"],\r\n            A2: [\"A\", \"2\", \"A\"],\r\n            A3: [\"A\", \"3\", \"A\"],\r\n            A4: [\"A\", \"4\", \"A\"],\r\n            A5: [\"A\", \"5\", \"A\"],\r\n            A6: [\"A\", \"6\", \"A\"],\r\n            A7: [\"A\", \"7\", \"A\"],\r\n            A8: [\"A\", \"8\", \"A\"],\r\n            A9: [\"A\", \"9\", \"A\"],\r\n            A10: [\"A\", \"10\", \"A\"],\r\n            A11: [\"A\", \"11\", \"11F\"],\r\n            A12: [\"A\", \"12\", \"12F\"],\r\n            A13: [\"A\", \"13\", \"13F\"],\r\n            B1: [\"B\", \"1\", \"B\"],\r\n            B2: [\"B\", \"2\", \"B\"],\r\n            B3: [\"B\", \"3\", \"B\"],\r\n            B4: [\"B\", \"4\", \"B\"],\r\n            B5: [\"B\", \"5\", \"B\"],\r\n            B6: [\"B\", \"6\", \"B\"],\r\n            B7: [\"B\", \"7\", \"B\"],\r\n            B8: [\"B\", \"8\", \"B\"],\r\n            B9: [\"B\", \"9\", \"B\"],\r\n            B10: [\"B\", \"10\", \"B\"],\r\n            B11: [\"B\", \"11\", \"11F\"],\r\n            B12: [\"B\", \"12\", \"12F\"],\r\n            B13: [\"B\", \"13\", \"13F\"],\r\n            C1: [\"C\", \"1\", \"C\"],\r\n            C2: [\"C\", \"2\", \"C\"],\r\n            C3: [\"C\", \"3\", \"C\"],\r\n            C4: [\"C\", \"4\", \"C\"],\r\n            C5: [\"C\", \"5\", \"C\"],\r\n            C6: [\"C\", \"6\", \"C\"],\r\n            C7: [\"C\", \"7\", \"C\"],\r\n            C8: [\"C\", \"8\", \"C\"],\r\n            C9: [\"C\", \"9\", \"C\"],\r\n            C10: [\"C\", \"10\", \"C\"],\r\n            C11: [\"C\", \"11\", \"11F\"],\r\n            C12: [\"C\", \"12\", \"12F\"],\r\n            C13: [\"C\", \"13\", \"13F\"],\r\n            D1: [\"D\", \"1\", \"D\"],\r\n            D2: [\"D\", \"2\", \"D\"],\r\n            D3: [\"D\", \"3\", \"D\"],\r\n            D4: [\"D\", \"4\", \"D\"],\r\n            D5: [\"D\", \"5\", \"D\"],\r\n            D6: [\"D\", \"6\", \"D\"],\r\n            D7: [\"D\", \"7\", \"D\"],\r\n            D8: [\"D\", \"8\", \"D\"],\r\n            D9: [\"D\", \"9\", \"D\"],\r\n            D10: [\"D\", \"10\", \"D\"],\r\n            D11: [\"D\", \"11\", \"11F\"],\r\n            D12: [\"D\", \"12\", \"12F\"],\r\n            D13: [\"D\", \"13\", \"13F\"]\r\n        };\r\n        this.ghostIds = {\r\n            D0: [\"14\", \"D0\"],\r\n            E0: [\"15\", \"E0\"]\r\n        };\r\n        this.flowerIds = {\r\n            A0: null,\r\n            B0: null,\r\n            C0: null,\r\n            N0: null,\r\n            M0: null,\r\n            F0: null,\r\n            G0: null,\r\n            H0: null\r\n        };\r\n        cc.log(\"PokerManager onload........\");\r\n    },\r\n\r\n    /*\r\n        \"A1\",\"A2\",\"A3\",\"A4\",\"A5\",\"A6\",\"A7\",\"A8\",\"A9\",\"A10\",\"A11\",\"A12\",\"A13\",\r\n        \"B1\",\"B2\",\"B3\",\"B4\",\"B5\",\"B6\",\"B7\",\"B8\",\"B9\",\"B10\",\"B11\",\"B12\",\"B13\",\r\n        \"C1\",\"C2\",\"C3\",\"C4\",\"C5\",\"C6\",\"C7\",\"C8\",\"C9\",\"C10\",\"C11\",\"C12\",\"C13\",\r\n        \"D1\",\"D2\",\"D3\",\"D4\",\"D5\",\"D6\",\"D7\",\"D8\",\"D9\",\"D10\",\"D11\",\"D12\",\"D13\"\r\n        A 方块\r\n        B 梅花\r\n        C 红桃\r\n        D 黑桃\r\n        11 J\r\n        12 Q\r\n        13 K\r\n        D0 小鬼\r\n        E0 大鬼\r\n        A0 春\r\n        B0 夏\r\n        C0 秋\r\n        N0 冬\r\n        M0 梅\r\n        F0 兰\r\n        G0 竹\r\n        H0 菊\r\n        */\r\n    getPokerSpriteById: function(id) {\r\n        if (Reflect.has(this.normalIds, id)) {\r\n            let [small, num, big] = this.normalIds[id];\r\n            let poker = cc.instantiate(this.pokerNormal);\r\n            let numSprite = poker\r\n                .getChildByName(\"num\")\r\n                .getComponent(\"cc.Sprite\");\r\n            numSprite.spriteFrame = this.pokerAtlas.getSpriteFrame(num);\r\n            let smallSprite = poker\r\n                .getChildByName(\"flower_small\")\r\n                .getComponent(\"cc.Sprite\");\r\n            smallSprite.spriteFrame = this.pokerAtlas.getSpriteFrame(small);\r\n            let bigSprite = poker\r\n                .getChildByName(\"flower_big\")\r\n                .getComponent(\"cc.Sprite\");\r\n            bigSprite.spriteFrame = this.pokerAtlas.getSpriteFrame(big);\r\n            return poker;\r\n        } else if (Reflect.has(this.flowerIds, id)) {\r\n            let flower = id;\r\n            let poker = cc.instantiate(this.pokerFlower);\r\n            let flowerSprite = poker\r\n                .getChildByName(\"flower\")\r\n                .getComponent(\"cc.Sprite\");\r\n            flowerSprite.spriteFrame = this.pokerAtlas.getSpriteFrame(flower);\r\n            return poker;\r\n        } else if (Reflect.has(this.ghostIds, id)) {\r\n            let [num, flower] = this.ghostIds[id];\r\n            let poker = cc.instantiate(this.pokerGhost);\r\n            let numSprite = poker\r\n                .getChildByName(\"num\")\r\n                .getComponent(\"cc.Sprite\");\r\n            cc.log(\"ghost\", poker, numSprite);\r\n            numSprite.spriteFrame = this.pokerAtlas.getSpriteFrame(num);\r\n            let bigSprite = poker\r\n                .getChildByName(\"flower_big\")\r\n                .getComponent(\"cc.Sprite\");\r\n            bigSprite.spriteFrame = this.pokerAtlas.getSpriteFrame(flower);\r\n            return poker;\r\n        } else {\r\n            return cc.instantiate(this.pokerBack);\r\n        }\r\n    },\r\n\r\n    getNiuSprite(cardType, comboPoint) {\r\n        cardType = Number(cardType);\r\n        let imgIndex = 0;\r\n        if (cardType == 1) {\r\n            imgIndex = 0;\r\n        } else if (cardType >= 4 && cardType <= 14) {\r\n            imgIndex = cardType + 6;\r\n        } else {\r\n            imgIndex = comboPoint;\r\n        }\r\n        let niu = cc.instantiate(this.niuType);\r\n        niu.getComponent(\r\n            \"cc.Sprite\"\r\n        ).spriteFrame = this.niuAtlas.getSpriteFrame(\"bull\" + imgIndex);\r\n        return niu;\r\n    },\r\n\r\n    start() {}\r\n\r\n    // update (dt) {},\r\n});\r\n"]}