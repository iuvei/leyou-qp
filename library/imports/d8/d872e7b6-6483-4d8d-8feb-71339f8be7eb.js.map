{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\JoinOrLook.js"],"names":["cc","Class","extends","Component","properties","gameNN","Node","gameZJH","btnJoin","Button","btnLook","onLoad","th","node","x","y","active","start","show","type","log","initGameNN","initGameZJH","lblId","getChildByName","getComponent","string","myself","account_id","lblMode","room","banker_mode","lblDifeng","score_type","lblRenshu","max_count","lblGuize","rule_type","lblPaixing","paixings","is_cardfour","push","is_cardfourtiny","is_cardfive","is_straight","is_flush","is_calabash","is_cardbomb","is_sequence","is_cardtiny","join","lblJushu","mtp","ticket_type","lblBeishu","bet_type","can_join","can_guest","onJoinClicked","traget","wc","params","operation","session","sign","data","room_number","ws","send","JSON","stringify","onLookClicked"],"mappings":"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","file":"JoinOrLook.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gameNN: cc.Node,\r\n        gameZJH: cc.Node,\r\n        btnJoin: cc.Button,\r\n        btnLook: cc.Button\r\n    },\r\n\r\n    onLoad: function() {\r\n        if (th == null) {\r\n            return;\r\n        }\r\n        this.node.x = 0;\r\n        this.node.y = 0;\r\n        this.node.active = true;\r\n    },\r\n    start() {\r\n        this.node.active = false;\r\n    },\r\n    show(type) {\r\n        cc.log(\"===JoinOrLook===\", type);\r\n        this.node.x = 0;\r\n        this.node.y = 0;\r\n        this.node.active = true;\r\n        switch (type) {\r\n            case \"nn\":\r\n                this.initGameNN();\r\n                break;\r\n            case \"zjh\":\r\n                this.initGameZJH();\r\n                break;\r\n        }\r\n    },\r\n    initGameNN() {\r\n        let lblId = this.node.getChildByName(\"lbl_id\").getComponent(\"cc.Label\");\r\n        lblId.string = \"您的天珠ID：\" + th.myself.account_id;\r\n        let lblMode = this.gameNN\r\n            .getChildByName(\"lbl_mode\")\r\n            .getComponent(\"cc.Label\");\r\n        lblMode.string =\r\n            th.room.banker_mode == 1\r\n                ? \"自由抢庄\"\r\n                : th.room.banker_mode == 2\r\n                ? \"明牌抢庄\"\r\n                : th.room.banker_mode == 3\r\n                ? \"转庄牛牛\"\r\n                : th.room.banker_mode == 4\r\n                ? \"通比牛牛\"\r\n                : th.room.banker_mode == 5\r\n                ? \"固定庄家\"\r\n                : \"未知\";\r\n        let lblDifeng = this.gameNN\r\n            .getChildByName(\"lbl_difeng\")\r\n            .getComponent(\"cc.Label\");\r\n        lblDifeng.string = th.room.score_type + \"\";\r\n        let lblRenshu = this.gameNN\r\n            .getChildByName(\"lbl_renshu\")\r\n            .getComponent(\"cc.Label\");\r\n        lblRenshu.string = th.room.max_count + \"\";\r\n        /*\r\n            th.room.max_count_type == 1\r\n                ? \"6\"\r\n                : th.room.max_count_type == 2\r\n                ? \"9\"\r\n                : th.room.max_count_type == 3\r\n                ? \"10\"\r\n                : th.room.max_count_type == 4\r\n                ? \"12\"\r\n                : th.room.max_count_type == 5\r\n                ? \"13\"\r\n                : \"未知\";\r\n        */\r\n        let lblGuize = this.gameNN\r\n            .getChildByName(\"lbl_guize\")\r\n            .getComponent(\"cc.Label\");\r\n        lblGuize.string =\r\n            th.room.rule_type == 1\r\n                ? \"牛牛*3，牛九*2 ，牛八*2\"\r\n                : th.room.rule_type == 2\r\n                ? \"牛牛*4，牛九*3，牛八*2，牛七*2\"\r\n                : \"未知\";\r\n        let lblPaixing = this.gameNN\r\n            .getChildByName(\"lbl_paixing\")\r\n            .getComponent(\"cc.Label\");\r\n        let paixings = [];\r\n        if (th.room.is_cardfour == 1) {\r\n            paixings.push(\"四花牛(4倍)\");\r\n        }\r\n        if (th.room.is_cardfourtiny == 1) {\r\n            paixings.push(\"四小牛(4倍)\");\r\n        }\r\n        if (th.room.is_cardfive == 1) {\r\n            paixings.push(\"五花牛(5倍)\");\r\n        }\r\n        if (th.room.is_straight == 1) {\r\n            paixings.push(\"顺子牛(6倍)\");\r\n        }\r\n        if (th.room.is_flush == 1) {\r\n            paixings.push(\"同花牛(6倍)\");\r\n        }\r\n        if (th.room.is_calabash == 1) {\r\n            paixings.push(\"葫芦牛(7倍)\");\r\n        }\r\n        if (th.room.is_cardbomb == 1) {\r\n            paixings.push(\"炸弹牛(8倍)\");\r\n        }\r\n        if (th.room.is_sequence == 1) {\r\n            paixings.push(\"同花顺牛(9倍)\");\r\n        }\r\n        if (th.room.is_cardtiny == 1) {\r\n            paixings.push(\"五小牛(10倍)\");\r\n        }\r\n        lblPaixing.string = paixings.join(\"   \");\r\n        let lblJushu = this.gameNN\r\n            .getChildByName(\"lbl_jushu\")\r\n            .getComponent(\"cc.Label\");\r\n        let mtp =\r\n            th.room.max_count == 6\r\n                ? 1\r\n                : th.room.max_count == 9 || th.room.max_count == 10\r\n                ? 2\r\n                : th.room.max_count == 12 || th.room.max_count == 13\r\n                ? 3\r\n                : 0;\r\n        lblJushu.string =\r\n            th.room.ticket_type * 10 +\r\n            \"局X\" +\r\n            th.room.ticket_type * mtp +\r\n            \"房卡\";\r\n        let lblBeishu = this.gameNN\r\n            .getChildByName(\"lbl_beishu\")\r\n            .getComponent(\"cc.Label\");\r\n        lblBeishu.string =\r\n            th.room.bet_type == 0\r\n                ? \"1，2，4，5 倍\"\r\n                : th.room.bet_type == 1\r\n                ? \"1，3，5，8 倍\"\r\n                : th.room.bet_type == 2\r\n                ? \"2，4，5，10 倍\"\r\n                : th.room.bet_type == 3\r\n                ? \"2，6，10，15 倍\"\r\n                : \"未知\";\r\n\r\n        this.btnJoin.node.active = th.room.can_join == 1;\r\n        this.btnLook.node.active = th.room.can_guest == 1;\r\n    },\r\n    initGameZJH() {},\r\n    onJoinClicked: function(traget) {\r\n        cc.log(\"onJoinClicked\");\r\n        th.wc.show(\"正在加入房间...\");\r\n        const params = {\r\n            operation: \"JoinRoom\", //操作标志\r\n            account_id: th.myself.account_id, //用户id};\r\n            session: th.sign,\r\n            data: {\r\n                room_number: th.room.room_number\r\n            }\r\n        };\r\n        cc.log(\"===>>>[JoinRoom] JoinOrLook:\", params);\r\n        th.ws.send(JSON.stringify(params));\r\n    },\r\n    onLookClicked: function(traget) {\r\n        cc.log(\"onLookClicked\");\r\n        th.wc.show(\"正在加入房间...\");\r\n        const params = {\r\n            operation: \"GuestRoom\", //操作标志\r\n            account_id: th.myself.account_id, //用户account_id};\r\n            session: th.sign,\r\n            data: {\r\n                room_number: th.room.room_number\r\n            }\r\n        };\r\n        cc.log(\"===>>>[GuestRoom] JoinOrLook:\", params);\r\n        th.ws.send(JSON.stringify(params));\r\n    },\r\n    start() {}\r\n});\r\n"]}