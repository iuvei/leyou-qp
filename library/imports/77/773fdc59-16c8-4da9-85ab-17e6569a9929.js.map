{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\Hall.js"],"names":["cc","Class","extends","Component","properties","dock","Node","dating","yuleting","zhanji","gerenzhongxin","selectNN","selectZJH","voiceToggle","Toggle","fangzuobi","bangdingshouji","sendfangka","zhanjitongji","shimingrenzheng","lblId","Label","lblName","lblFangka","lblPhone","headImg","Sprite","createNN","createZJH","createNNComponent","createZJHComponent","selectGame","createGame","joinOrLook","onLoad","th","initEventHandlers","initUserInfo","node","getChildByName","getComponent","args","roomId","type","log","room","room_number","webSocketManager","connectGameServer","ip","port","namespace","params","operation","account_id","myself","session","sign","data","ws","send","JSON","stringify","err","onEnable","start","dataEventHandler","on","emit","wc","hide","active","topToBottomAnim","room_status","alert","show","gametype","string","nickname","account_ticket","phone","headSpriteFrame","headimgurl","loader","load","url","texture","SpriteFrame","Rect","width","height","spriteFrame","setScale","bgm","sys","localStorage","getItem","audioManager","setBGMVolume","isChecked","dt","trager","director","loadScene","playSFX","x","y","allowSwitchOff","children","forEach","toggle","idx","name","check","uncheck","targer","bottomToTopAnim","isRun","position","v2","runAction","sequence","callFunc","moveTo","easing","easeSineIn"],"mappings":"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","file":"Hall.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        dock: cc.Node,\n        dating: cc.Node,\n        yuleting: cc.Node,\n        zhanji: cc.Node,\n        gerenzhongxin: cc.Node,\n        selectNN: cc.Node,\n        selectZJH: cc.Node,\n        voiceToggle: cc.Toggle,\n        fangzuobi: cc.Node,\n        bangdingshouji: cc.Node,\n        sendfangka: cc.Node,\n        zhanjitongji: cc.Node,\n        shimingrenzheng: cc.Node,\n\n        //用户信息\n        lblId: cc.Label,\n        lblName: cc.Label,\n        lblFangka: cc.Label,\n        lblPhone: cc.Label,\n        headImg: cc.Sprite,\n\n        //\n        createNN: cc.Node,\n        createZJH: cc.Node,\n        createNNComponent: cc.Class,\n        createZJHComponent: cc.Class,\n\n        //当前选择游戏的node\n        selectGame: cc.Node,\n        //当前创建游戏的node\n        createGame: cc.Node,\n\n        //观战或者加拉游戏\n        joinOrLook: cc.Node\n    },\n\n    onLoad: function() {\n        //cc.log(\"Hall onload.\");\n        if (th == null) {\n            return;\n        }\n        this.initEventHandlers();\n        this.initUserInfo();\n        this.createNNComponent = this.node\n            .getChildByName(\"CreateNN\")\n            .getComponent(\"CreateNN\");\n        this.createZJHComponent = this.node\n            .getChildByName(\"CreateZJH\")\n            .getComponent(\"CreateZJH\");\n\n        if (th.args.roomId && th.args.type) {\n            cc.log(`直接进入房间：${th.args.type}==${th.args.roomId}`);\n            th.room.room_number = th.args.roomId;\n            if (th.args.type == \"nn\") {\n                th.webSocketManager.connectGameServer(\n                    {\n                        ip: \"47.96.177.207\",\n                        port: 10000,\n                        namespace: \"gamebdn\"\n                    },\n                    () => {\n                        let params = {\n                            operation: \"PrepareJoinRoom\",\n                            account_id: th.myself.account_id, //用户id};\n                            session: th.sign,\n                            data: {\n                                room_number: th.args.roomId\n                            }\n                        };\n                        cc.log(\"===>>>[PrepareJoinRoom] Hall:\", params);\n                        th.ws.send(JSON.stringify(params));\n                    }\n                );\n            } else {\n                cc.err(\"游戏类型错误：\" + th.args.type);\n            }\n        }\n    },\n    onEnable() {\n        cc.log(\"Hall onEnable\");\n        cc.log(\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\");\n    },\n    start() {\n        cc.log(\"Hall start\");\n        cc.log(\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\");\n    },\n    initEventHandlers() {\n        cc.log(\"Hall initEventHandlers()\");\n        th.webSocketManager.dataEventHandler = this.node;\n\n        this.node.on(\"game_connect_success\", () => {\n            //分发给子节点\n            if (this.createGame) {\n                this.createGame.emit(\"game_connect_success\");\n            }\n        });\n\n        this.node.on(\"CreateRoom\", () => {\n            cc.log(\"<<<===[CreateRoom] Hall\");\n            th.wc.hide();\n            this.createGame.active = false;\n            this.selectGame.active = false;\n            this.topToBottomAnim(this.selectGame);\n        });\n        this.node.on(\"PrepareJoinRoom\", data => {\n            cc.log(\"<<<===[PrepareJoinRoom],Hall\");\n            if (data.room_status == 4) {\n                th.alert.show(\"提示\", \"房间已经关闭\");\n                return;\n            }\n            this.joinOrLook.getComponent(\"JoinOrLook\").show(th.gametype);\n        });\n    },\n    initUserInfo() {\n        this.lblId.string = th.myself.account_id;\n        this.lblName.string = th.myself.nickname;\n        this.lblFangka.string = \"x\" + th.myself.account_ticket;\n        this.lblPhone.string = th.myself.phone;\n\n        if (!th.myself.headSpriteFrame && th.myself.headimgurl) {\n            cc.loader.load(\n                { url: th.myself.headimgurl, type: \"jpg\" },\n                (err, texture) => {\n                    if (!err) {\n                        cc.log(\n                            th.myself.nickname +\n                                \" 下载头像成功：\" +\n                                th.myself.headimgurl\n                        );\n                        let headSpriteFrame = new cc.SpriteFrame(\n                            texture,\n                            cc.Rect(0, 0, texture.width, texture.height)\n                        );\n                        th.myself.headSpriteFrame = headSpriteFrame;\n                        this.headImg.spriteFrame = headSpriteFrame;\n                        this.headImg.node.setScale(2 - texture.width / 105);\n                    }\n                }\n            );\n        }\n    },\n    onEnable() {\n        //cc.log(\"Hall onEnable.\");\n        const bgm = cc.sys.localStorage.getItem(\"bgmVolume\");\n        if (bgm != \"0\") {\n            th.audioManager.setBGMVolume(bgm);\n            this.voiceToggle.isChecked = false;\n        } else {\n            this.voiceToggle.isChecked = true;\n        }\n    },\n    start: function() {\n        //cc.log(\"Hall start.\");\n    },\n\n    update: function(dt) {},\n    //房卡\n    onFangkaChecked: function(trager) {\n        /*\n        th.ws.send(\n            JSON.stringify({\n                operation: \"getUserInfo\",\n                session: \"YWQ4MTBlOGM1NzcxZjNmNTJiMTY3ZTMzZmRiZmY4YjI=\",\n                data: {\n                    token: \"\"\n                }\n            })\n        );\n        return;\n        */\n        th.wc.show(\"正在加载。。。\");\n        cc.director.loadScene(\"GameNN\", () => {\n            th.wc.hide();\n        });\n    },\n    //防作弊\n    onFzbChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.x = 0;\n        this.fangzuobi.y = 0;\n        this.fangzuobi.active = true;\n    },\n    //防作弊关闭\n    onFzbCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.active = false;\n    },\n    //防作弊提交\n    onFzbYesChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.active = false;\n        //TODO\n    },\n    //绑定手机\n    onBdsjChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.x = 0;\n        this.bangdingshouji.y = 0;\n        this.bangdingshouji.active = true;\n    },\n    //绑定手机关闭\n    onBdsjCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.active = false;\n    },\n    //绑定手机提交\n    onBdsjYesChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.active = false;\n        //TODO\n    },\n    //历史战绩\n    onZhanjiChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.dating.active = false;\n        this.yuleting.active = false;\n        this.zhanji.active = true;\n        this.gerenzhongxin.active = false;\n\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = true;\n\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .children.forEach((toggle, idx) => {\n                if (toggle.name === \"btn_zhanji\") {\n                    toggle.getComponent(\"cc.Toggle\").check();\n                } else {\n                    toggle.getComponent(\"cc.Toggle\").uncheck();\n                }\n            });\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = false;\n    },\n    //战绩统计\n    onZhanjitongjiChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.zhanjitongji.x = 0;\n        this.zhanjitongji.y = 0;\n        this.zhanjitongji.active = true;\n    },\n    //战绩统计关闭\n    onZhanjitongjiCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.zhanjitongji.active = false;\n    },\n    //发送房卡\n    onSendFangkaChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.sendfangka.x = 0;\n        this.sendfangka.y = 0;\n        this.sendfangka.active = true;\n    },\n    //发送房卡关闭\n    onSendFangkaCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.sendfangka.active = false;\n    },\n    //实名认证房卡\n    onShimingrenzhengChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.shimingrenzheng.x = 0;\n        this.shimingrenzheng.y = 0;\n        this.shimingrenzheng.active = true;\n    },\n    //实名认证关闭\n    onShimingrenzhengCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.shimingrenzheng.active = false;\n    },\n    //开关声音\n    onVoiceChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        cc.log(\"开关声音\", trager.isChecked);\n        if (trager.isChecked) {\n            th.audioManager.setBGMVolume(0);\n        } else {\n            th.audioManager.setBGMVolume(0.5);\n        }\n    },\n    //复制ID\n    onCopyIdChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        cc.log(\"复制ID\");\n        //TODO\n    },\n\n    //大厅dock按钮点击事件\n    onDockChecked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        switch (type) {\n            case \"dating\":\n                this.dating.active = true;\n                this.yuleting.active = false;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"yuleting\":\n                this.dating.active = false;\n                this.yuleting.active = true;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"zhanji\":\n                this.dating.active = false;\n                this.yuleting.active = false;\n                this.zhanji.active = true;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"gerenzhongxin\":\n                this.dating.active = false;\n                this.yuleting.active = false;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = true;\n                break;\n        }\n    },\n    //大厅游戏按钮点击\n    onHallGameChecked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        switch (type) {\n            case \"nn\":\n                this.selectGame = this.selectNN;\n                this.bottomToTopAnim(this.selectNN);\n                break;\n            case \"zjh\":\n                this.selectGame = this.selectZJH;\n                this.bottomToTopAnim(this.selectZJH);\n                break;\n        }\n    },\n    //选择游戏界面关闭按钮点击\n    onSelectGameCloseClicked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.selectGame = null;\n        switch (type) {\n            case \"nn\":\n                this.topToBottomAnim(this.selectNN);\n                break;\n            case \"zjh\":\n                this.topToBottomAnim(this.selectZJH);\n                break;\n        }\n    },\n    bottomToTopAnim: function(node) {\n        if (node.isRun) return;\n        node.position = cc.v2(0, -th.height);\n        node.runAction(\n            cc.sequence(\n                cc.callFunc(() => {\n                    node.isRun = true;\n                }),\n                cc.moveTo(0.2, cc.v2(0, 0)).easing(cc.easeSineIn()),\n                cc.callFunc(() => {\n                    node.isRun = false;\n                })\n            )\n        );\n    },\n    topToBottomAnim: function(node) {\n        if (node.isRun) return;\n        node.runAction(\n            cc.sequence(\n                cc.callFunc(() => {\n                    node.isRun = true;\n                }),\n                cc.moveTo(0.2, cc.v2(0, -th.height)).easing(cc.easeSineIn()),\n                cc.callFunc(() => {\n                    node.isRun = false;\n                })\n            )\n        );\n    },\n    //选择牛牛子分类\n    onSelectNNChecked: function(targer, type) {\n        //cc.log(\"牛牛选择类别:\", type);\n        th.audioManager.playSFX(\"click.mp3\");\n        this.createNN.x = 0;\n        this.createNN.y = 0;\n        this.createNNComponent.show(type);\n        this.createGame = this.createNN;\n    },\n    //选择炸金花子分类\n    onSelectZJHChecked: function(targer, type) {\n        //cc.log(\"炸金花选择类别:\", type);\n        th.audioManager.playSFX(\"click.mp3\");\n        this.createZJH.x = 0;\n        this.createZJH.y = 0;\n        this.createZJHComponent.show(type);\n        this.createGame = this.createZJH;\n    }\n});\n"]}