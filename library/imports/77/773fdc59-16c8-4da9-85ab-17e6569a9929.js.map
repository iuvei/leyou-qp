{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\Hall.js"],"names":["cc","Class","extends","Component","properties","dock","Node","dating","yuleting","zhanji","gerenzhongxin","selectNN","selectZJH","voiceToggle","Toggle","fangzuobiWin","bangdingshouji","sendfangka","zhanjitongji","shimingrenzheng","lblId","Label","lblName","lblFangka","lblPhone","headImg","Sprite","createNN","createZJH","createNNComponent","createZJHComponent","selectGame","createGame","joinOrLook","onLoad","th","initEventHandlers","initUserInfo","node","getChildByName","getComponent","log","args","roomId","type","room","room_number","wc","show","webSocketManager","connectGameServer","ip","port","namespace","params","operation","account_id","myself","session","sign","data","ws","send","JSON","stringify","err","isInRoom","onEnable","start","dataEventHandler","on","emit","active","topToBottomAnim","room_status","alert","hide","gametype","string","nickname","account_ticket","phone","headSpriteFrame","headimgurl","loader","load","url","texture","SpriteFrame","Rect","width","height","spriteFrame","setScale","bgm","sys","localStorage","getItem","audioManager","setBGMVolume","isChecked","dt","trager","playSFX","fangzuobi","x","y","allowSwitchOff","children","forEach","toggle","idx","name","check","uncheck","targer","bottomToTopAnim","isRun","position","v2","runAction","sequence","callFunc","moveTo","easing","easeSineIn"],"mappings":"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","file":"Hall.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        dock: cc.Node,\n        dating: cc.Node,\n        yuleting: cc.Node,\n        zhanji: cc.Node,\n        gerenzhongxin: cc.Node,\n        selectNN: cc.Node,\n        selectZJH: cc.Node,\n        voiceToggle: cc.Toggle,\n        fangzuobiWin: cc.Node,\n        bangdingshouji: cc.Node,\n        sendfangka: cc.Node,\n        zhanjitongji: cc.Node,\n        shimingrenzheng: cc.Node,\n\n        //用户信息\n        lblId: cc.Label,\n        lblName: cc.Label,\n        lblFangka: cc.Label,\n        lblPhone: cc.Label,\n        headImg: cc.Sprite,\n\n        //\n        createNN: cc.Node,\n        createZJH: cc.Node,\n        createNNComponent: cc.Class,\n        createZJHComponent: cc.Class,\n\n        //当前选择游戏的node\n        selectGame: cc.Node,\n        //当前创建游戏的node\n        createGame: cc.Node,\n\n        //观战或者加拉游戏\n        joinOrLook: cc.Node\n    },\n\n    onLoad: function() {\n        //cc.log(\"Hall onload.\");\n        if (th == null) {\n            return;\n        }\n        this.initEventHandlers();\n        this.initUserInfo();\n        this.createNNComponent = this.node\n            .getChildByName(\"CreateNN\")\n            .getComponent(\"CreateNN\");\n        this.createZJHComponent = this.node\n            .getChildByName(\"CreateZJH\")\n            .getComponent(\"CreateZJH\");\n        cc.log(\"args:\", th.args);\n        if (th.args.roomId && th.args.type) {\n            cc.log(`直接进入房间：${th.args.type}==${th.args.roomId}`);\n            th.room.room_number = th.args.roomId;\n            th.wc.show(\"正在加入游戏...\");\n            if (th.args.type == \"nn\") {\n                th.webSocketManager.connectGameServer(\n                    {\n                        ip: \"47.96.177.207\",\n                        port: 10000,\n                        namespace: \"gamebdn\"\n                    },\n                    () => {\n                        let params = {\n                            operation: \"PrepareJoinRoom\",\n                            account_id: th.myself.account_id, //用户id};\n                            session: th.sign,\n                            data: {\n                                room_number: th.args.roomId\n                            }\n                        };\n                        cc.log(\"===>>>[PrepareJoinRoom] Hall:\", params);\n                        th.ws.send(JSON.stringify(params));\n                    }\n                );\n            } else {\n                cc.err(\"游戏类型错误：\" + th.args.type);\n            }\n        }\n\n        th.myself.isInRoom = false;\n    },\n    onEnable() {\n        cc.log(\"Hall onEnable\");\n    },\n    start() {\n        cc.log(\"Hall start\");\n    },\n    initEventHandlers() {\n        cc.log(\"Hall initEventHandlers()\");\n        th.webSocketManager.dataEventHandler = this.node;\n\n        this.node.on(\"game_connect_success\", () => {\n            //分发给子节点\n            if (this.createGame) {\n                this.createGame.emit(\"game_connect_success\");\n            }\n        });\n\n        this.node.on(\"CreateRoom\", () => {\n            cc.log(\"<<<===[CreateRoom] Hall\");\n            this.createGame.active = false;\n            this.selectGame.active = false;\n            this.topToBottomAnim(this.selectGame);\n        });\n        this.node.on(\"PrepareJoinRoom\", data => {\n            cc.log(\"<<<===[PrepareJoinRoom],Hall\");\n            if (data.room_status == 4) {\n                th.alert.show(\"提示\", \"房间已经关闭\");\n                return;\n            }\n            th.wc.hide();\n            this.joinOrLook.getComponent(\"JoinOrLook\").show(th.gametype);\n        });\n    },\n    initUserInfo() {\n        this.lblId.string = th.myself.account_id;\n        this.lblName.string = th.myself.nickname;\n        this.lblFangka.string = \"x\" + th.myself.account_ticket;\n        this.lblPhone.string = th.myself.phone;\n\n        if (!th.myself.headSpriteFrame && th.myself.headimgurl) {\n            cc.loader.load(\n                { url: th.myself.headimgurl, type: \"jpg\" },\n                (err, texture) => {\n                    if (!err) {\n                        cc.log(\n                            th.myself.nickname +\n                                \" 下载头像成功：\" +\n                                th.myself.headimgurl\n                        );\n                        let headSpriteFrame = new cc.SpriteFrame(\n                            texture,\n                            cc.Rect(0, 0, texture.width, texture.height)\n                        );\n                        th.myself.headSpriteFrame = headSpriteFrame;\n                        this.headImg.spriteFrame = headSpriteFrame;\n                        this.headImg.node.setScale(2 - texture.width / 105);\n                    }\n                }\n            );\n        }\n    },\n    onEnable() {\n        //cc.log(\"Hall onEnable.\");\n        const bgm = cc.sys.localStorage.getItem(\"bgmVolume\");\n        if (bgm != \"0\") {\n            th.audioManager.setBGMVolume(bgm);\n            this.voiceToggle.isChecked = false;\n        } else {\n            this.voiceToggle.isChecked = true;\n        }\n    },\n    start: function() {\n        //cc.log(\"Hall start.\");\n    },\n\n    update: function(dt) {},\n    //房卡\n    onFangkaChecked: function(trager) {},\n    //防作弊\n    onFzbChecked: function(trager) {\n        /*\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.x = 0;\n        this.fangzuobi.y = 0;\n        this.fangzuobi.active = true;\n        */\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobiWin.getComponent(\"Fangzuobi\").show();\n    },\n    //防作弊关闭\n    onFzbCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.active = false;\n    },\n    //防作弊提交\n    onFzbYesChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.fangzuobi.active = false;\n        //TODO\n    },\n    //绑定手机\n    onBdsjChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.x = 0;\n        this.bangdingshouji.y = 0;\n        this.bangdingshouji.active = true;\n    },\n    //绑定手机关闭\n    onBdsjCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.active = false;\n    },\n    //绑定手机提交\n    onBdsjYesChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.bangdingshouji.active = false;\n        //TODO\n    },\n    //历史战绩\n    onZhanjiChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.dating.active = false;\n        this.yuleting.active = false;\n        this.zhanji.active = true;\n        this.gerenzhongxin.active = false;\n\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = true;\n\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .children.forEach((toggle, idx) => {\n                if (toggle.name === \"btn_zhanji\") {\n                    toggle.getComponent(\"cc.Toggle\").check();\n                } else {\n                    toggle.getComponent(\"cc.Toggle\").uncheck();\n                }\n            });\n        this.dock\n            .getChildByName(\"toogle_menu\")\n            .getComponent(\"cc.ToggleContainer\").allowSwitchOff = false;\n    },\n    //战绩统计\n    onZhanjitongjiChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.zhanjitongji.x = 0;\n        this.zhanjitongji.y = 0;\n        this.zhanjitongji.active = true;\n    },\n    //战绩统计关闭\n    onZhanjitongjiCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.zhanjitongji.active = false;\n    },\n    //发送房卡\n    onSendFangkaChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.sendfangka.x = 0;\n        this.sendfangka.y = 0;\n        this.sendfangka.active = true;\n    },\n    //发送房卡关闭\n    onSendFangkaCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.sendfangka.active = false;\n    },\n    //实名认证房卡\n    onShimingrenzhengChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.shimingrenzheng.x = 0;\n        this.shimingrenzheng.y = 0;\n        this.shimingrenzheng.active = true;\n    },\n    //实名认证关闭\n    onShimingrenzhengCloseChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.shimingrenzheng.active = false;\n    },\n    //开关声音\n    onVoiceChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        cc.log(\"开关声音\", trager.isChecked);\n        if (trager.isChecked) {\n            th.audioManager.setBGMVolume(0);\n        } else {\n            th.audioManager.setBGMVolume(0.5);\n        }\n    },\n    //复制ID\n    onCopyIdChecked: function(trager) {\n        th.audioManager.playSFX(\"click.mp3\");\n        cc.log(\"复制ID\");\n        //TODO\n    },\n\n    //大厅dock按钮点击事件\n    onDockChecked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        switch (type) {\n            case \"dating\":\n                this.dating.active = true;\n                this.yuleting.active = false;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"yuleting\":\n                this.dating.active = false;\n                this.yuleting.active = true;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"zhanji\":\n                this.dating.active = false;\n                this.yuleting.active = false;\n                this.zhanji.active = true;\n                this.gerenzhongxin.active = false;\n                break;\n            case \"gerenzhongxin\":\n                this.dating.active = false;\n                this.yuleting.active = false;\n                this.zhanji.active = false;\n                this.gerenzhongxin.active = true;\n                break;\n        }\n    },\n    //大厅游戏按钮点击\n    onHallGameChecked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        switch (type) {\n            case \"nn\":\n                this.selectGame = this.selectNN;\n                this.bottomToTopAnim(this.selectNN);\n                break;\n            case \"zjh\":\n                this.selectGame = this.selectZJH;\n                this.bottomToTopAnim(this.selectZJH);\n                break;\n        }\n    },\n    //选择游戏界面关闭按钮点击\n    onSelectGameCloseClicked: function(targer, type) {\n        th.audioManager.playSFX(\"click.mp3\");\n        this.selectGame = null;\n        switch (type) {\n            case \"nn\":\n                this.topToBottomAnim(this.selectNN);\n                break;\n            case \"zjh\":\n                this.topToBottomAnim(this.selectZJH);\n                break;\n        }\n    },\n    bottomToTopAnim: function(node) {\n        if (node.isRun) return;\n        node.position = cc.v2(0, -th.height);\n        node.runAction(\n            cc.sequence(\n                cc.callFunc(() => {\n                    node.isRun = true;\n                }),\n                cc.moveTo(0.2, cc.v2(0, 0)).easing(cc.easeSineIn()),\n                cc.callFunc(() => {\n                    node.isRun = false;\n                })\n            )\n        );\n    },\n    topToBottomAnim: function(node) {\n        if (node.isRun) return;\n        node.runAction(\n            cc.sequence(\n                cc.callFunc(() => {\n                    node.isRun = true;\n                }),\n                cc.moveTo(0.2, cc.v2(0, -th.height)).easing(cc.easeSineIn()),\n                cc.callFunc(() => {\n                    node.isRun = false;\n                })\n            )\n        );\n    },\n    //选择牛牛子分类\n    onSelectNNChecked: function(targer, type) {\n        //cc.log(\"牛牛选择类别:\", type);\n        th.audioManager.playSFX(\"click.mp3\");\n        this.createNN.x = 0;\n        this.createNN.y = 0;\n        this.createNNComponent.show(type);\n        this.createGame = this.createNN;\n    },\n    //选择炸金花子分类\n    onSelectZJHChecked: function(targer, type) {\n        //cc.log(\"炸金花选择类别:\", type);\n        th.audioManager.playSFX(\"click.mp3\");\n        this.createZJH.x = 0;\n        this.createZJH.y = 0;\n        this.createZJHComponent.show(type);\n        this.createGame = this.createZJH;\n    }\n});\n"]}